{"version":3,"sources":["webpack://ebgnavigation/webpack/universalModuleDefinition","webpack://ebgnavigation/webpack/bootstrap","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/createClass.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/typeof.js","webpack://ebgnavigation/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://ebgnavigation/./src/assets/css/ebgnavigation.less?e62d","webpack://ebgnavigation/./src/components/guidance/index.js","webpack://ebgnavigation/./src/components/message/index.js","webpack://ebgnavigation/./src/components/search/index.js","webpack://ebgnavigation/./src/components/teacher-role/index.js","webpack://ebgnavigation/./src/components/user-setting/index.js","webpack://ebgnavigation/./src/constant.js","webpack://ebgnavigation/./src/index.js","webpack://ebgnavigation/./src/qt.js","webpack://ebgnavigation/./src/render.js","webpack://ebgnavigation/./src/template.js","webpack://ebgnavigation/./src/utils/app-auth.js","webpack://ebgnavigation/./src/utils/http.js","webpack://ebgnavigation/./src/utils/img.js","webpack://ebgnavigation/./src/utils/logout.js","webpack://ebgnavigation/./src/utils/old.js","webpack://ebgnavigation/./src/utils/render-dropdown.js","webpack://ebgnavigation/./src/utils/render-ebg-nav.js","webpack://ebgnavigation/./src/utils/tools.js","webpack://ebgnavigation/./src/utils/utils.js"],"names":["_http","_interopRequireDefault","require","_utils","_img","guidanceEntry","user","hosturl","id","localStorage","getItem","concat","default","type","jsonp","Date","now","url","success","res","renderGuidance","error","guidance","document","querySelector","removeElement","p1","p2","dom","offsetWidth","userPhotos","avatar","name","g","body","insertAdjacentHTML","style","overflow","addEvent","btns","querySelectorAll","i","length","item","addEventListener","e","target","innerText","display","guidanceComplete","jump","console","log","setItem","_default","exports","module","messageRender","$m","_dhx_msg_cfg","callback","config","result","userCall","modality","box","parentNode","removeChild","modal_key","window","event","code","which","keyCode","message","keyboard","preventDefault","cancelBubble","attachEvent","mode","cover","createElement","onkeydown","className","appendChild","button","text","setTheme","theme","info","t","area","position","hide","innerHTML","onclick","firstChild","insertBefore","expire","timers","setTimeout","pull","_boxStructure","ok","cancel","setAttribute","inner","width","height","title","content","confirm","node","getElementById","childNodes","source","srcElement","indexOf","getAttribute","_createBox","tagName","hidden","x","left","Math","abs","floor","innerWidth","documentElement","y","top","innerHeight","offsetHeight","focus","modalbox","confirmPopup","box_params","_typeof2","params","uid","apply","arguments","seed","valueOf","hideAll","key","obj","clearTimeout","Object","keys","_appAuth","_this","showLoader","loader","hideLoader","appDatas","hideSearchContainer","search","handleClass","value","showSearchContainer","apiUrl","jsonpHost","renderSearchData","classifies","filterApps","arr","serachText","getElementsByClassName","forEach","kind","items","sub","push","appTerminalStr","fav","close","searchBtn","inputEvent","bind","dd","len","_loop","appClick","searchTemplate","data","appListDom","templateRender","templateFilter","noData","enterEvent","getAllAppsData","_ref","searchContainer","menus","getTime","isSaas","apps","err","_message","currentName","workbenchUrl","identity","roleType","dataList","teacherRole","undefined","identityList","currentRole","getCurrentRole","roleInfo","sessionStorage","setCookie","getWorkbenchUrl","Array","isArray","renderDom","teacherRoleCurrentName","stopPropagation","addClickEvent","domDl","domList","children","element","JSON","parse","location","href","saveCurrentRoleToAjax","open","workbench","setName","renderHtml","html","stringify","substring","workbenchEvent","settings","userInfoDom","options","meeageTotal","setUrl","settingsHtml","roleList","some","roleTag","renderRoleListHtml","map","roleCName","join","renderRoleHtml","roleChange","role","childId","switchRole","roleHoverEvent","roleDom","userinfoDom","classList","contains","add","remove","renderUserSetting","base","test","filter","roleHtml","hideRole","addRoleDefaultEvent","getMessage","switchRoleSuccess","ebgnavigation","emit","init","userRoleId","getCookie","first","Number","teacherRoleId","renderMessageUnreadNum","num","redDot","messageDom","setMessageUnreadNum","mesArray","_unreadNum","unreadNum","messagesTypes","template","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","r","__esModule","_typeof","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","set","primaryNav","platformLogo","platformName","appLogo","platformNavList","appNavList","appList","appName","subtitle","secondaryNav","secondaryNavList","operation","settingList","appStatus","appEnterable","defaultNavList","noLoginShow","themeList","themeDefault","navbarConfig","applicationsList","isGuidance","defaultAvatar","ssoRequestNum","tpl","baseTemp","getBaseTemplate","moreTemp","getNavMoreTemplate","moreSecTemp","getSecMoreTemplate","secondaryNameTemp","getSecondaryNameTemplate","platformLogoTemp","getPlatformLogoTemplate","applicationLogoTemp","getApplicationLogoTemplate","appIconListTemp","getAppIconListTemplate","navUserTemp","getNavUserTemplate","detailUserTemp","getUserinfoTemplate","utils","old","tools","_constant","_index","_logout","_userSetting","_render","_index2","_qt","_typeof3","msg","assign","TypeError","index","prototype","setOptions","isObject","hideLight","notloginHideNavBar","logoLink","appLogoLink","logoLinkTarget","logoEvent","secondaryName","getCurrentTheme","_theme","setThemeConfig","setFaviconIco","logo","newUrl","delProtocol","link","getElementsByTagName","linkLen","linkItem","rel","newLink","insertAdjacentElement","renderFavicon","icoUrl","getCurrentLogo","renderLogo","delOldDom","qt","renderAppList","renderPrimaryNav","ebgnavLogoboxDom","$","logoSrc","ebgnavigationLogo","loadImg","clientWidth","setLogoEvent","LogoEventDom","funcname","property","LogoutBtnEvent","loginBtn","logoutUrl","bindLogout","showSearch","addAppEvent","showSearchBtn","ul","li","appendParam","renderApplications","renderUserInfo","userId","renderLoginBtn","themeId","cla","loginbtn","aLink","isHasCurrentClassName","el","names","renderTheme","ebgnavBox","getCurrentThemeId","renderStyleModule","isSwitchRole","navigationConfig","positionTheme","renderSettingList","renderSecondaryName","renderSecondaryNav","renderModule","render","loadStyle","ebgnavBoxContainer","_onresize","getCurrentThemeLogoInfo","themes","_themeId","setPlatformNavList","list","_list","newNavList","moduleName","moduleUrl","hasChildrenModules","childrenModules","_childrens","j","getDesktopLink","menuKey","newList","itemData","platformLogoUrl","appLogoUrl","iconUrl","setApplicationsList","dlDom","dataLen","cloudNavApps","_array","icon","_item","short_name","src","defaultAppImg","setUserInfo","userInfo","userName","userPhoto","loginName","username","renderAppBtn","_ref2","_ref2$menus","_ref2$identityList","_ref2$roleInfo","count","platform","cur","mainMenuAddHttps","host","replace","getJsonpHostInScript","getCurrentScript","initNavbarConfigData","identityInfo","getNavbarConfigData","loadNavigationError","platformMoudles","ajaxGetOtherConfig","platformSet","ticket","service","time","moreApplicationEvent","appentry","status","ajaxGetDefaultApp","resizeChange","debounce","removeEventListener","isLocalAppPlatform","localUrl","scriptUrlHostname","hostname","getUrlOrigin","includes","realJsonpHostHandle","ebgUrl","fn","localProtocol","split","browseProtocol","protocol","isReload","isLocal","isSame","getSSOStatus","ssoUrl","crossDomain","needAttribute","st","ssoCenterUrl","triggerLoginResult","getTriggerlogin","validUrl","script","onload","onerror","getConfig","getIsSuccess","ebgnavigationUser","reloadNav","getPlatformStatus","cb","currentScript","_src","getJsonpHost","isPlatform","getJsonpHostUrl","local","breakEb","charAt","changeListCurrentItem","current","validateData","api","isQtNavEmpty","getUrlDefaultParam","_item$split","_item$split2","_slicedToArray2","setDefaultApplication","decodeURIComponent","getPlatform","f","queue","queueTimer","setSearchParams","urlObj","URL","searchParams","toString","Ebgnavigation","events","_classCallCheck2","update","_createClass2","on","_this2","unon","splice","_len","args","_key","navbarData","clearDefaultEmitEvent","_location","hash","getURLParameters","ecsDesktopServer","urls","production","szjzsaas","cookie","decodeUrl","isSzjzSaas","isEbgDemo","isJyyun","origin","navRenderCompleted","inited","warn","head","httpEquiv","qtInit","jsUrl","renderCommonNav","created","mounted","setHighlightNav","Error","setHighlight","newConfig","tempTitle","tempTitleSecond","secondList","isNaN","setAppName","isString","setSubtitle","setAppList","_config$primaryNav$ap","_toConsumableArray2","ebgnavEbgnavLogobox","setAppNavList","_config$primaryNav$ap2","setSecondaryName","setSecondaryNavList","array","_config$secondaryNav$","secondaryNavDom","setSettingList","_config$operation$set","hideNavBar","showNavBar","refreshAppList","updateLogo","setFavicon","setAppListCurrentName","switchTheme","type2","themedark","themeblue","themegreen","qtReLoadCount","getQtUserInfo","childUserId","tarUserType","userRole","loadQWebChannel","FlyQtNavigator","getUserInfos","loadScript","QWebChannel","webChannelTransport","channel","_XBridgeQtChannelInstance","objects","isEmpty","every","nav","ebgNavBox","_renderEbgNav","_renderDropdown","renderName","renderEbgNav","_ref$menus","getBrowseUrlIdActiveMenu","displayElement","settingDom","commonRenderDropdown","ebgnavAppList","renderApplicationNavbar","renderAppListDropdownList","app_list","disabled","commonNavEvent","renderDropdown","separatorUl","oldSecondaryName","strAssert","str","alertErrorIfStrEmpty","errorMsg","storeAppid","enable","async","appId","appEncodeURL","s","reg","urlLength","newS","escape","encodeURI","isThirdApp","windowOpen","eventType","btnMsg","encodeURIComponent","ajax","random","formatParams","json","toUpperCase","xhr","XMLHttpRequest","ActiveXObjcet","onreadystatechange","readyState","response","getResponseHeader","responseXML","responseText","send","setRequestHeader","callbackName","timer","createJsonpLogout","dataType","cache","desktop_logout","__logoutUrl","logoutUrls","clearCookieUrl","shift","redirectUrl","pop","cks","kv","matches","match","port","scripts","interactiveScript","tarDomain","serverUrl","getDesktopServer","ret","redirDomain","oldJSUrl","oldNav","renderNavbarDom","traverseDomArr","_template","canvas","menuWidth","navList","windowWidth","NavList","renderParams","logoWidth","getLogoWidth","secondaryNameWidth","isMore","renderMore","slice","moreUl","more","getTextWith","fontStyle","context","getContext","font","measureText","ebgnavLogobox","w","delay","tmp","String","replaceAll","s1","s2","RegExp","newData","specialFlag","parentJson","cItem","childrenJSonParam","regOut","cursor","line","js","exec","substr","Function","poll","isCalled","isLoaded","navigator","userAgent","ex","styleOnload","fstr","oldClassName","classVal","getHostUrl","_hosturl","nodeType","domain","path","pathname","_domain$split$slice","_domain$split$slice2","yu","newPath","noRenderJs","deleteDomByClassName","clsName","paras","clearInnerHtmlById","_element","_parentElement","arrUnique","dataInfo","fromIndex","renderDropdownList","getWorkbenchClassName","direction","isHasChildren","arrow","arrowType","renderApplicationNavbarUlList","arrowHtml","parentIndex","resDom","hasChildren","c","_href$slice$split$0$s","_href$slice$split$0$s2","image","Image","typeofChecking","cc","typeName","constructor","menuList","active","lis","_el","_liItem","childrenUl","traverseNavListEvent","stopImmediatePropagation","currentTarget","haschildrenmodules","invalidStr","navHighlight","parentEle","childrenList","deleteAllClassCurrent","secElement","secChildrenList","setNavParentCurrent","parent","parentClassName","nodeList","regx","removeItem","reduce","v"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,iH;;;;;;;;;;;ACLA;AACA;AACA;AACA,+G;;;;;;;;;;;ACHA,uBAAuB,mBAAO,CAAC,wFAAuB;AACtD;AACA;AACA;AACA,kH;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,+G;;;;;;;;;;;ACLA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,4G;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA,sH;;;;;;;;;;;ACLA;AACA;AACA;AACA,gH;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,kEAAkE;AACrF,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,qH;;;;;;;;;;;AC3BA;AACA;AACA;AACA,gH;;;;;;;;;;;AC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","file":"ebgnavigation.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ebgnavigation\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ebgnavigation\"] = factory();\n\telse\n\t\troot[\"ebgnavigation\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// extracted by mini-css-extract-plugin","import ajax from '../../utils/http'\nimport { removeElement } from '../../utils/utils'\nimport { avatar } from '../../utils/img' // 图片base64地址\nconst guidanceEntry = (user, hosturl) => {\n  if (user && user.id && localStorage.getItem(`isGuidance-${user.id}`) === 'true') return false\n  ajax({\n    type: 'GET',\n    jsonp: `jsonpCallback${Date.now()}`,\n    url: `${hosturl}/desktop/backend/indexPage/getHasNavigationLog.do`,\n    success: (res) => {\n      // 返回结果 === false 显示新手指引\n      if (!res.success) {\n        renderGuidance(user, hosturl)\n      }\n    },\n    error: () => {\n    }\n  })\n}\n// /ebgnavigation/img/guidance-step-2.gif /ebgnavigation/img/guidance-step-1.gif\nconst renderGuidance = (user, hosturl) => {\n  const guidance = document.querySelector('.guidance-container')\n  guidance && removeElement(guidance)\n  const p1 = document.querySelector('.ebgnav-operation-appentry')\n  const p2 = document.querySelector('.ebgnav-operation-userinfo')\n  if (!p1 || !p2) return false\n  const dom = `\n  <div class=\"guidance-container\">\n    <div class=\"step-guidance step1\" style=\"right: ${p2.offsetWidth + 24}px; top: 0; display:block;\">\n      <div class=\"box\">\n        <img class=\"img-gif\" src=\"/ebgnavigation/img/guidance-step-1.gif\" />\n        <div class=\"discription\">\n          <h3>快捷应用入口与搜索入口</h3>\n          <p>点击应用快捷入口，可以查看管理员设置的常用应用，原来导航栏上的应用入口与搜索入口迁移至此处！</p>\n        </div>\n        <div>\n          <a class=\"ebg-button ebg-button--small ebg-button--text\" href=\"javascript:\" id=\"guidance-jump\">跳过</a>\n          <button class=\"ebg-button ebg-button--line ebg-button--small guidance-btn fr\">下一步</button>\n        </div>\n      </div>\n      <div class=\"guidance-arrow\" style=\"width: 40px\"><i class=\"ebginav inav-app-entry\"></i></div>\n    </div>\n    <div class=\"step-guidance step2\" style=\"right: 24px; top: 0; display:none;\">\n      <div class=\"box\">\n        <img class=\"img-gif\" src=\"/ebgnavigation/img/guidance-step-2.gif\" />\n        <div class=\"discription\">\n          <h3>我的消息迁移至此处啦~</h3>\n        </div>\n        <div class=\"btn-box\">\n          <button class=\"ebg-button ebg-button--line ebg-button--small guidance-btn fr\">知道了</button>\n        </div>\n      </div>\n      <div class=\"guidance-arrow\">\n        <img class=\"avatar\" src=\"${user.userPhotos || avatar}\" />\n        <span class=\"name text-ellipsis\">${user.name}</span>\n      </div>\n    </div>\n  </div>\n  `\n  const g = document.querySelector('.guidance-container')\n  g && removeElement(g)\n  document.body.insertAdjacentHTML('beforeend', dom)\n  document.body.style.overflow = 'hidden'\n  addEvent(user, hosturl)\n}\n\nconst addEvent = (user, hosturl) => {\n  const guidance = document.querySelector('.guidance-container')\n  const btns = guidance.querySelectorAll('button')\n  for (let i = 0; i < btns.length; i++) {\n    const item = btns[i]\n    item.addEventListener('click', (e) => {\n      if (e.target.innerText === '下一步') {\n        document.querySelector('.step1').style.display = 'none'\n        document.querySelector('.step2').style.display = 'block'\n      } else {\n        guidanceComplete(user, hosturl)\n      }\n    })\n  }\n  const jump = document.querySelector('#guidance-jump')\n  jump && jump.addEventListener('click', () => {\n    guidanceComplete(user, hosturl)\n  })\n}\n\nconst guidanceComplete = (user, hosturl) => {\n  const guidance = document.querySelector('.guidance-container')\n  ajax({\n    type: 'GET',\n    jsonp: 'callback',\n    url: `${hosturl}/desktop/backend/indexPage/insertNavigationLog.do`,\n    success: (res) => {\n      console.log(res)\n      localStorage.setItem(`isGuidance-${user.id}`, 'true')\n      removeElement(guidance)\n      document.body.style.overflow = ''\n    },\n    error: () => {\n      removeElement(guidance)\n      document.body.style.overflow = ''\n    }\n  })\n}\n\nexport default guidanceEntry\n","const messageRender = () => {\n  let $m = {}\n  var _dhx_msg_cfg = null\n\n  function callback(config, result) {\n    var userCall = config.callback\n    modality(false)\n    config.box.parentNode.removeChild(config.box)\n    _dhx_msg_cfg = config.box = null\n    if (userCall) userCall(result)\n  }\n  function modal_key(e) {\n    if (_dhx_msg_cfg) {\n      e = e || window.event\n      var code = e.which || window.event.keyCode\n      if ($m.message.keyboard) {\n        if (code === 13 || code === 32) callback(_dhx_msg_cfg, true)\n        if (code === 27) callback(_dhx_msg_cfg, false)\n      }\n      if (e.preventDefault) e.preventDefault()\n      return !(e.cancelBubble = true)\n    }\n  }\n  if (document.attachEvent) document.attachEvent(\"onkeydown\", modal_key)\n  else document.addEventListener(\"keydown\", modal_key, true)\n\n  function modality(mode) {\n    if (!modality.cover) {\n      modality.cover = document.createElement(\"DIV\")\n      modality.cover.onkeydown = modal_key\n      modality.cover.className = \"ebg_modal_cover\"\n      document.body.appendChild(modality.cover)\n    }\n    modality.cover.style.display = mode ? \"inline-block\" : \"none\"\n  }\n\n  // 生成对话框footer DOM\n  function button(text, result) {\n    return \"<button class='ebg_popup_button ebg-button ebg-button--medium \" + (result ? 'ebg-button--primary' : '') + \"' result='\" + result + \"'>\" + text + \"</button>\"\n  }\n\n  function setTheme(type) {\n    let theme = ''\n    if (type === 'success') theme = type\n    else if (type === 'error') theme = type\n    else if (type === 'warning') theme = type\n    else theme = ''\n    return theme\n  }\n\n  function info(text) {\n    if (!t.area) {\n      t.area = document.createElement(\"DIV\")\n      t.area.className = `ebg_message_area`\n      t.area.style[t.position] = \"5px\"\n      document.body.appendChild(t.area)\n    } else {\n      t.area.style.display = 'block'\n    }\n\n    t.hide(text.id)\n    var message = document.createElement(\"DIV\")\n    message.innerHTML = \"<div class='text'>\" + text.text + \"</div>\"\n    message.className = \"ebg-info message__\" + setTheme(text.type)\n    message.onclick = function () {\n      t.hide(text.id)\n      text = null\n    }\n\n    if (t.position === \"bottom\" && t.area.firstChild) t.area.insertBefore(message, t.area.firstChild)\n    else t.area.appendChild(message)\n\n    if (text.expire > 0) {\n      t.timers[text.id] = window.setTimeout(function () {\n        t.hide(text.id)\n      }, text.expire)\n    }\n    t.pull[text.id] = message\n    message = null\n\n    return text.id\n  }\n\n  function _boxStructure(config, ok, cancel) {\n    var box = document.createElement(\"DIV\")\n    box.className = \" ebg_modal_box ebg-\" + config.type\n    box.setAttribute(\"dhxbox\", 1)\n\n    var inner = ''\n\n    if (config.width) box.style.width = config.width\n    if (config.height) box.style.height = config.height\n    if (config.title) inner += '<div class=\"ebg_popup_title\">' + config.title + '</div>'\n    inner += '<div class=\"ebg_popup_text\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"ebg_popup_controls\">'\n    // 是否需要渲染cancel button\n    if (config.cancel && typeof config.cancel === 'string') {\n      inner += button(config.cancel, false)\n    }\n\n    // 是否需要渲染 confirm button\n    if (config.confirm && typeof config.confirm === 'string') {\n      inner += button(config.confirm, true)\n    }\n    inner += '</div>'\n    box.innerHTML = inner\n\n    if (config.content) {\n      var node = config.content\n      if (typeof node === \"string\") node = document.getElementById(node)\n      if (node.style.display === 'none') node.style.display = \"\"\n      box.childNodes[config.title ? 1 : 0].appendChild(node)\n    }\n\n    box.onclick = function (e) {\n      e = e || window.event\n      var source = e.target || e.srcElement\n      if (!source.className) source = source.parentNode\n      if (source.className.indexOf('ebg_popup_button') !== -1) {\n        var result = source.getAttribute(\"result\")\n        if (result === 'true') {\n          callback(config)\n        } else {\n          callback(config, true)\n        }\n      }\n    }\n    config.box = box\n    if (ok || cancel) _dhx_msg_cfg = config\n    return box\n  }\n\n  function _createBox(config, ok, cancel) {\n    var box = config.tagName ? config : _boxStructure(config, ok, cancel)\n\n    if (!config.hidden) modality(true)\n    document.body.appendChild(box)\n    var x = config.left || Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2))\n    var y = config.top || Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2))\n    if (config.position === \"top\") box.style.top = \"-3px\"\n    else box.style.top = y + 'px'\n    box.style.left = x + 'px'\n    box.onkeydown = modal_key\n    box.focus()\n    if (config.hidden) $m.modalbox.hide(box)\n    return box\n  }\n\n  function confirmPopup(config) {\n    return _createBox(config, true, true)\n  }\n\n  function box_params(text, type, callback) {\n    if (typeof text !== \"object\") {\n      if (typeof type === \"function\") {\n        callback = type\n        type = \"\"\n      }\n      text = {\n        text,\n        type,\n        callback\n      }\n    }\n    return text\n  }\n\n  function params(text, type, expire, id) {\n    if (typeof text !== \"object\") {\n      text = {\n        text,\n        type,\n        expire,\n        id\n      }\n    }\n    text.id = text.id || t.uid()\n    text.expire = text.expire || t.expire\n    return text\n  }\n  $m.confirm = function () {\n    var text = box_params.apply(this, arguments)\n    text.type = text.type || \"alert\"\n    return confirmPopup(text)\n  }\n  $m.modalbox = function () {\n    var text = box_params.apply(this, arguments)\n    text.type = text.type || \"alert\"\n    return confirmPopup(text)\n  }\n  $m.modalbox.hide = function (node) {\n    while (node && node.getAttribute && !node.getAttribute(\"dhxbox\")) {\n      node = node.parentNode\n    }\n    if (node) {\n      node.parentNode.removeChild(node)\n      modality(false)\n    }\n  }\n  var t = $m.message = function (text, type) {\n    // debugger\n    text = params.apply(this, arguments)\n    text.type = text.type || \"info\"\n    return info(text)\n  }\n\n  t.seed = (new Date()).valueOf()\n  t.uid = function () {\n    return t.seed++\n  }\n  t.expire = 1500\n  t.keyboard = true\n  t.position = \"top\"\n  t.pull = {}\n  t.timers = {}\n\n  t.hideAll = function () {\n    for (var key in t.pull) {\n      t.hide(key)\n    }\n  }\n  t.hide = function (id) {\n    var obj = t.pull[id]\n    if (obj && obj.parentNode) {\n      window.setTimeout(function () {\n        obj.parentNode.removeChild(obj)\n        obj = null\n      }, 2000)\n      obj.className += \" hidden\"\n\n      if (t.timers[id]) window.clearTimeout(t.timers[id])\n      delete t.pull[id]\n      if (Object.keys(t.pull).length === 0) {\n        document.querySelector('.ebg_message_area').style.display = 'none'\n      }\n    }\n  }\n  return $m\n}\nexport default messageRender()\n","import ajax from '../../utils/http'\nimport { appClick } from '../../utils/app-auth'\nimport { handleClass, templateRender, templateFilter } from '../../utils/utils'\nconst dom = `<div class=\"ebgnav__app_search-container hide\">\n              <div id=\"data\" style=\"display:none\"></div>\n              <span class=\"close__search__box\" id=\"close__search__box\"></span>\n              <div class=\"search-input-box\">\n                <input id=\"search-input\" class=\"form-input\" type=\"text\" placeholder=\"查找应用\" />\n                <button id=\"searchBtn\" class=\"form-search-btn\">搜索</button>\n              </div>\n              <div class=\"ebgnav__app_search-box\">\n                <div class=\"serach-app-sub-con\">\n                  <div class=\"result hide\">以下是“<strong id=\"serachText\"></strong>”相关的应用</div>\n                  <ul id=\"app-list\" class=\"app-list platform-app-list clearfix\">\n                    \n                  </ul>\n                  <div id=\"loader\" class=\"loader-box show\"><div class=\"loader\"></div><p>数据加载中…</p></div>\n                  <div class=\"no-data hide\">\n                    <p>暂无搜索数据</p>\n                  </div>\n                </div>\n              </div>\n             </div>\n            `\nconst showLoader = () => {\n  const loader = document.querySelector('#loader')\n  if (loader) {\n    loader.className = 'loader-box show'\n  }\n}\n\nconst hideLoader = () => {\n  const loader = document.querySelector('#loader')\n  if (loader) {\n    loader.className = 'loader-box hide'\n  }\n}\n\nlet appDatas = {}\nconst hideSearchContainer = () => {\n  console.log('hideSearchContainer')\n  const search = document.querySelector('.ebgnav__app_search-container')\n  // search.classList = 'ebgnav__app_search-container hide'\n  handleClass(search, 'add', 'hide')\n  document.getElementById('search-input').value = ''\n  // document.querySelector('.result').className = 'result hide'\n  handleClass(document.querySelector('.result'), 'add', 'hide')\n  document.body.style.overflow = ''\n}\nconst showSearchContainer = (apiUrl, jsonpHost) => {\n  handleClass(document.querySelector('.ebgnav__app_search-container'), 'delete', 'hide')\n  renderSearchData(appDatas.classifies, apiUrl, jsonpHost)\n  document.body.style.overflow = 'hidden'\n}\n\nconst filterApps = (e, apiUrl, jsonpHost) => {\n  if (appDatas.classifies && appDatas.classifies.length) {\n    const value = e.value\n    const arr = []\n    const obj = {}\n    const serachText = document.getElementById('serachText')\n    document.getElementsByClassName('no-data')[0].className = 'no-data hide'\n    if (!value) {\n      renderSearchData(appDatas.classifies, apiUrl, jsonpHost)\n      document.getElementsByClassName('result')[0].className = 'result hide'\n      return\n    }\n    if (value) {\n      serachText.innerText = value\n      document.getElementsByClassName('result')[0].className = 'result'\n    }\n    appDatas.classifies.forEach((item) => {\n      obj[item.id] = {\n        kind: item.kind,\n        id: item.id,\n        items: []\n      }\n      item.items &&\n        item.items.forEach((sub) => {\n          if (sub.name.indexOf(value) !== -1) {\n            obj[item.id].items.push({\n              appTerminalStr: sub.appTerminalStr,\n              fav: sub.fav,\n              id: sub.id,\n              name: sub.name,\n              url: sub.url\n            })\n          }\n        })\n    })\n    for (const key in obj) {\n      if (obj[key].items.length) {\n        arr.push(obj[key])\n      }\n    }\n    renderSearchData(arr, apiUrl, jsonpHost)\n    if (!arr.length) {\n      document.getElementsByClassName('no-data')[0].className = 'no-data'\n    }\n  }\n}\n\nconst addEvent = (apiUrl, jsonpHost) => {\n  // 关闭弹框\n  const close = document.querySelector('#close__search__box')\n  close.addEventListener('click', hideSearchContainer)\n  const searchBtn = document.getElementById('searchBtn')\n  const inputEvent = document.getElementById('search-input')\n  searchBtn.onclick = filterApps.bind(this, inputEvent, apiUrl, jsonpHost)\n\n  const dd = document.getElementsByClassName('item-list')\n  const len = dd.length\n  for (let i = 0; i < len; i++) {\n    let item = dd[i]\n    item.addEventListener('click', () => {\n      const name = item.getAttribute('title')\n      const id = item.getAttribute('id')\n      const url = item.getAttribute('url')\n      appClick({\n        name,\n        id,\n        url,\n        item,\n        target: '_blank',\n        hosturl: jsonpHost,\n        apiUrl\n      })\n    })\n  }\n}\n\nconst searchTemplate = `\n<% for(var i = 0; i < this.length; i++) { \n  var item = this[i];\n%>\n<li class=\"app-list-column\">\n  <dl class=\"column-box\">\n    <dt class=\"title\"><% item.kind %></dt>\n    <% for(var j = 0; j < item.items.length; j++) {\n      var sub = item.items[j];\n    %>\n    <dd class=\"item-list text-ellipsis\" url=\"<% sub.url %>\" title=\"<% sub.name %>\" id=\"<% sub.id %>\">\n      <span><% sub.name %></span>\n    </dd>\n    <%\n    }\n    %>\n  </dl>\n</li> \n<%\n}\n%>`\nconst renderSearchData = (data, apiUrl, jsonpHost) => {\n  const appListDom = document.getElementById('app-list')\n  if (appListDom && data) {\n    appListDom.innerHTML = templateRender(templateFilter(searchTemplate), data)\n  } else {\n    const noData = document.querySelector('.no-data')\n    noData.className = 'no-data'\n  }\n  hideLoader() // 隐藏loading\n  addEvent(apiUrl, jsonpHost) // 添加事件\n}\nconst enterEvent = (apiUrl, jsonpHost) => {\n  const inputEvent = document.getElementById('search-input')\n  document.onkeydown = function (event) {\n    var e = event || window.event\n    // 回车键的键值为13\n    if (e && e.keyCode === 13) {\n      filterApps(inputEvent, apiUrl, jsonpHost)\n    }\n  }\n}\n\n// 获取应用数据\nconst getAllAppsData = (apiUrl, { hosturl }) => {\n  const searchContainer = document.querySelector('.ebgnav__app_search-container')\n  if (!searchContainer) {\n    document.body.insertAdjacentHTML('afterbegin', dom)\n    enterEvent(apiUrl, hosturl)\n  }\n  showLoader() // 显示Loading\n  var url = apiUrl.menus + '?t=' + new Date().getTime()\n  ajax({\n    url: hosturl + url,\n    jsonp: 'jsonp',\n    data: {\n      isSaas: true\n    },\n    success: function (res) {\n      // res = {}\n      appDatas = res.apps && res.apps[0] || []\n      showSearchContainer(apiUrl, hosturl)\n    },\n    error: function (err) {\n      console.log(err)\n      hideLoader()\n    }\n  })\n}\nexport {\n  getAllAppsData\n}\n","import $ebg from '../message'\nimport ajax from '../../utils/http'\nimport { setCookie, getWorkbenchUrl, getCurrentRole } from '../../utils/utils'\nlet currentName,\n  workbenchUrl,\n  identity,\n  roleType = '',\n  dataList = [],\n  res\nconst teacherRole = (config = {}, hosturl) => {\n  res = config\n  // 当前可切换的角色列表\n  //   roleInfo:\n  // currentName: \"教师\"\n  // currentRole: \"teacher\"\n  dataList = config.identityList || []\n  // 获取当前默认激活的角色\n  const currentRole = getCurrentRole(dataList)\n  identity = currentRole.identity || ''\n  currentName = currentRole.name || ''\n  roleType = (res.roleInfo && res.roleInfo.currentRole) || ''\n  sessionStorage.setItem('teacherRoleId', identity)\n  localStorage.setItem('teacherRoleId', identity)\n  setCookie('teacherRoleId', identity)\n  workbenchUrl = getWorkbenchUrl(config.menus)\n  // 可切换列表小于2。就不渲染了\n  if (Array.isArray(dataList) && dataList.length < 2) return false\n  // 渲染角色切换的HTML DOM\n  renderDom()\n  // 取消默认事件\n  const teacherRoleCurrentName = document.querySelector('.teacher-role-current-name')\n  teacherRoleCurrentName && teacherRoleCurrentName.addEventListener('click', (e) => {\n    e.stopPropagation()\n  })\n\n  // 给角色列表添加点击事件\n  addClickEvent(workbenchUrl, hosturl)\n}\n\n// 绑定事件\nconst addClickEvent = (workbenchUrl, hosturl) => {\n  const domDl = document.querySelector('.teacher-role-box')\n  const domList = domDl && domDl.children || []\n  for (let i = 0; i < domList.length; i++) {\n    const element = domList[i]\n    element.addEventListener('click', (e) => {\n      e.stopPropagation()\n      let data = JSON.parse(element.querySelector('.element-data').innerText || '{}')\n      if (window.location.href.indexOf('/workbench') > -1) {\n        if (identity === data.identity) return false\n      }\n      identity = data.identity\n      currentName = data.name\n      sessionStorage.setItem('teacherRoleId', identity)\n      localStorage.setItem('teacherRoleId', identity)\n      setCookie('teacherRoleId', identity)\n      saveCurrentRoleToAjax(identity, workbenchUrl, hosturl)\n      // renderDom()\n      // window.open(workbenchUrl.url + '&tarldentity=' + identity, '_self')\n    })\n  }\n}\n\nconst saveCurrentRoleToAjax = (identity, workbenchUrl, hosturl) => {\n  if (!identity) return false\n  const url = hosturl + '/desktop/backend/api/portal/switchIdentity'\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallbackSwitchIdentity',\n    url: url,\n    data: {\n      identity: identity\n    },\n    success: (res) => {\n      $ebg.message('切换成功', 'success')\n      window.open(`${workbenchUrl.url}&tarIdentity=${identity}&roleType=${roleType}&`, '_self')\n    },\n    error: () => {\n      $ebg.message('切换失败', 'error')\n    }\n  })\n}\n\nconst renderDom = () => {\n  const workbench = document.getElementById('ebg-nav-workbench')\n  if (!workbench) return ''\n  workbench.insertAdjacentHTML('beforeend', `<div class=\"teacher-role-current-name\"><span class=\"name text-ellipsis\" title=\"${setName(currentName)}}\">${setName(currentName)}</span><i class=\"ebginav inav-down\"></i>${renderHtml()}</div>`)\n}\nconst renderHtml = () => {\n  let html = ''\n  dataList.forEach(item => {\n    html += `<dd class=\"${item.identity === identity ? 'active' : ''}\" id=\"${item.identity}\">个人门户<span class=\"teacher-role-list-label\">${setName(item.name)}</span><span class=\"element-data\" style=\"display:none\">${JSON.stringify(item)}</span></dd>`\n  })\n  return html ? `<dl class=\"dropdown-box teacher-role-box\">${html}</dl>` : ''\n}\nconst setName = (name) => {\n  if (!name) return name\n  return name.substring(0, 2) + '版'\n}\n\n// 点击个人门户事件\nconst workbenchEvent = () => {\n  if (!workbenchUrl) {\n    workbenchUrl = getWorkbenchUrl(res.menus)\n  }\n  const url = `${workbenchUrl.url}&tarIdentity=${identity}&roleType=${roleType}&`\n  window.open(url, '_self')\n}\n\nexport {\n  teacherRole,\n  workbenchEvent\n}\n","import $ebg from '../message'\nimport ajax from '../../utils/http'\nimport { getCookie, setCookie, handleClass, getWorkbenchUrl } from '../../utils/utils'\nlet settings = [],\n  hosturl = '',\n  userInfoDom,\n  options = {},\n  roleInfo = {},\n  currentRole = {},\n  menus = [],\n  user = {},\n  meeageTotal = 0\n// 拼接跳转地址\nconst setUrl = (url) => {\n  if (url.indexOf('http') === -1) {\n    if (url.substring(0, 1) !== '/') {\n      url = `/${url}`\n    }\n    url = hosturl + url\n  }\n  return url\n}\n// 通过setting数据渲染列表\nconst settingsHtml = () => {\n  let html = ''\n  settings.forEach(item => {\n    html += `<dd class=\"setting-list-item\">\n      <a href=\"${setUrl(item.url)}\" target=\"_blank\" id=\"setting-list-id-${item.key}\">\n        <i class=\"ebginav ${item.key}\"></i>\n        <span class=\"name\">${item.name}</span>\n        <i class=\"ebginav inav-user-right\"></i>\n      </a>\n    </dd>`\n  })\n  return html\n}\nconst getCurrentRole = () => {\n  let data = ''\n  roleInfo.roleList.some(item => {\n    data = item\n    return item.roleTag === roleInfo.currentRole\n  })\n  return data\n}\nconst renderRoleListHtml = (roleList = []) => {\n  return roleList.map(item => {\n    return `<dd class=\"${item.roleTag === roleInfo.currentRole ? 'role-list-item active' : 'role-list-item'}\">${item.roleCName}<span class=\"data\" style=\"display: none\">${JSON.stringify(item)}</span></dd>`\n  }).join('')\n}\n// 单独渲染身份切换html\nconst renderRoleHtml = () => {\n  return `<dd class=\"setting-list-item\" id=\"setting-role-entry\">\n    <a href=\"javascript:;\">\n      <i class=\"ebginav inav-switch-identity\"></i>\n      <span class=\"name\">身份切换</span>\n      <i class=\"ebginav inav-user-right\"></i>\n      <span class=\"setting-right-con role-current-name text-ellipsis\" title=\"${currentRole.roleCName}\">${currentRole.roleCName}</span>\n    </a>\n    <dl class=\"setting-identity-list dropdown-box\" id=\"ebgnav-ebgnavRoleList\">\n      ${renderRoleListHtml(roleInfo.roleList)}\n    </dl>\n  </dd>`\n}\n\nconst roleChange = (data = {}) => {\n  if (!data || data.roleTag === roleInfo.currentRole) {\n    $ebg.message('该角色为您当前登录角色，请选择其他角色切换！', 'error')\n    return false\n  }\n  let params = {\n    role: data.role\n  }\n  if (data.childId) {\n    params.childId = data.childId\n  }\n  switchRole(params, data)\n}\n\n// 角色切换鼠标事件\nconst roleHoverEvent = () => {\n  // let timer = null\n  const dom = document.getElementById('setting-role-entry')\n  const roleDom = document.getElementById('ebgnav-ebgnavRoleList')\n  const userinfoDom = document.querySelector('.ebgnav-operation-userinfo')\n  // 添加鼠标移入事件\n  dom && dom.addEventListener('mouseenter', () => {\n    if (roleDom && !roleDom.classList.contains('show')) {\n      roleDom.classList.add('show')\n    }\n  })\n  // 添加鼠标移出事件\n  userinfoDom && userinfoDom.addEventListener('mouseleave', () => {\n    if (roleDom && roleDom.classList.contains('show')) {\n      roleDom.classList.remove('show')\n    }\n  })\n\n  // 添加点击事件（切换角色）\n  roleDom && roleDom.addEventListener('click', e => {\n    if (e.target.tagName === 'DL') return false\n    var innerText = e.target.querySelector('.data').innerText\n    const data = JSON.parse(innerText || '{}') || {}\n    roleChange(data)\n  })\n}\n// 渲染用户setting列表入口\nexport const renderUserSetting = (res = {}, base, config = {}) => {\n  if (config.test) return false\n  userInfoDom = document.getElementById('user-setting-list') // 获取setting容器\n  roleInfo = res.roleInfo || {}\n  menus = res.menus || []\n  user = res.user\n  options = config\n  settings = res.settings.filter(item => item.key !== 'user-logout')\n  hosturl = base.hosturl\n  let roleHtml = ''\n  // 如果用户配置了不显示角色切换入口，或者角色切换数据异常时，就不渲染角色切换入口了\n  if (!options.hideRole && roleInfo.currentRole && roleInfo.roleList && roleInfo.roleList.length > 0) {\n    currentRole = getCurrentRole() // 获取当前已选中的的角色\n    roleHtml = renderRoleHtml()\n    addRoleDefaultEvent()\n  }\n  userInfoDom.innerHTML = ''\n  userInfoDom.insertAdjacentHTML('beforeend', `${roleHtml}${settingsHtml()}`)\n  roleHoverEvent() // 添加事件\n  getMessage()\n}\n\nconst switchRoleSuccess = (data) => {\n  roleInfo.currentRole = data.roleTag\n  window.ebgnavigation.emit('roleChange', data)\n  setCookie(`role${user.id}`, roleInfo.currentRole)\n  window.ebgnavigation.init(options, null, 'switchRole')\n}\nconst addRoleDefaultEvent = () => {\n  // 获取保存到cookie里的数据\n  const userRoleId = getCookie(`role${user.id}`)\n  if (!userRoleId) {\n    // 如果角色id为空，将当前角色id保存到cookie中\n    setCookie(`role${user.id}`, roleInfo.currentRole)\n  } else {\n    // 对当前接口返回的角色id和之前保存的id是否一至\n    if (userRoleId !== roleInfo.currentRole) {\n      // 重新将最新的id保存到cookie中\n      const res = getCurrentRole() || {}\n      res.first = true\n      switchRoleSuccess(res)\n    }\n  }\n}\nconst switchRole = (params, data) => {\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallback4',\n    url: hosturl + '/desktop/backend/api/portal/switchRole',\n    data: params,\n    success: (res) => {\n      if (Number(res.code) === 1) {\n        data.first && (data.first = false) // 是否首次或刷新页面\n        data.teacherRoleId = res.data\n        data.workbenchUrl = getWorkbenchUrl(menus)\n        sessionStorage.setItem('teacherRoleId', res.data)\n        localStorage.setItem('teacherRoleId', res.data)\n        $ebg.message('角色切换成功', 'success')\n        switchRoleSuccess(data)\n      } else {\n        $ebg.message('角色切换失败', 'error')\n      }\n    },\n    error: () => {\n      $ebg.message('角色切换失败', 'error')\n    }\n  })\n}\nconst renderMessageUnreadNum = (num) => {\n  const dom = document.getElementById('setting-list-id-inav-message')\n  const redDot = document.querySelector('#ebgnav-hasNewMsg')\n  redDot && (handleClass(redDot, 'add', 'red-dot'))\n  if (dom) {\n    const messageDom = document.querySelector('.ebginav-message')\n    if (!messageDom) {\n      const html = `<span class=\"setting-right-con ebginav-message\">${num}</span>`\n      dom.insertAdjacentHTML('afterbegin', html)\n    } else {\n      messageDom.innerText = num\n    }\n  }\n}\n/**\n * 设置未读消息\n * @param {*} mesArray 各种类型的未读消息\n */\nconst setMessageUnreadNum = (mesArray) => {\n  if (Array.isArray(mesArray)) {\n    let _unreadNum = 0\n    mesArray.forEach((item) => {\n      _unreadNum += item.unreadNum\n    })\n    meeageTotal = _unreadNum\n    meeageTotal && (renderMessageUnreadNum(meeageTotal)) // 渲染消息红点数量\n  }\n}\n\n// 获取消息\nconst getMessage = () => {\n  if (meeageTotal) {\n    renderMessageUnreadNum(meeageTotal)\n  } else {\n    // 未读消息\n    ajax({\n      type: 'GET',\n      jsonp: `jsonpCallback${Date.now()}`,\n      url: hosturl + '/desktop/backend/navigation/getMessageUnreadNum',\n      data: {\n        messagesTypes: '1,2,3',\n        roleType: roleInfo.currentRole\n      },\n      success: (res) => {\n        setMessageUnreadNum(res)\n      },\n      error: (err) => {\n        console.log('getMessageUnreadNum error res', err)\n      }\n    })\n  }\n}\n","import { templateFilter } from './utils/utils'\nimport * as template from './template'\nimport { avatar } from './utils/img'\nexport const config = {\n  type: 'platform', // platform 平台 application 应用\n  theme: '',\n  primaryNav: {\n    platformLogo: '',\n    platformName: '',\n    appLogo: '',\n    platformNavList: [],\n    appNavList: [],\n    appList: [],\n    appName: '',\n    subtitle: ''\n  },\n  secondaryNav: {\n    secondaryNavList: []\n  },\n  operation: {\n    settingList: []\n  }\n}\n\n// 老导航逻辑需要的数据（具体用处不详）\nexport const apiUrl = {\n  menus: '/desktop/backend/api/portal/menus.do',\n  appStatus: '/desktop/backend/appInfo/status',\n  appEnterable: '/desktop/backend/indexPage/appEnterable.do'\n}\n\nexport // 基础参数\nconst base = {\n  // hosturl: 'https://ncsdhq.ecstest.ledc.changyan.cn',\n  hosturl: '',\n  defaultNavList: [],\n  platformNavList: [],\n  noLoginShow: 1,\n  themeList: [],\n  themeDefault: '2',\n  theme: '',\n  user: {},\n  unreadNum: 0,\n  navbarConfig: {},\n  applicationsList: [],\n  isGuidance: false,\n  defaultAvatar: avatar, // 默认头像,当前用户未设置头像时显示\n  ssoRequestNum: 0 // sso接口重调次数计数器\n}\n\n// 模板缓存\nexport const tpl = {\n  baseTemp: templateFilter(template.getBaseTemplate),\n  moreTemp: templateFilter(template.getNavMoreTemplate),\n  moreSecTemp: templateFilter(template.getSecMoreTemplate),\n  secondaryNameTemp: templateFilter(template.getSecondaryNameTemplate),\n  platformLogoTemp: templateFilter(template.getPlatformLogoTemplate),\n  applicationLogoTemp: templateFilter(template.getApplicationLogoTemplate),\n  appIconListTemp: templateFilter(template.getAppIconListTemplate),\n  navUserTemp: templateFilter(template.getNavUserTemplate),\n  detailUserTemp: templateFilter(template.getUserinfoTemplate)\n}\n","/**\n * 更新日志：\n * 1.0.0 基础渲染数据功能 @20200707\n * 1.0.1 增加动态渲染资源位、动态设置高亮、菜单项自定义事件等功能 @20200904\n * 1.0.2 增加用户隐私、应用搜索、部分接口改造、门户身份切换，集成用户退出，右则浮动菜单等功能。\n */\n// import '@babel/polyfill'\nimport * as utils from './utils/utils'\nimport { $ } from './utils/utils'\nimport * as old from './utils/old'\nimport * as tools from './utils/tools'\nimport { config, base, apiUrl, tpl } from './constant'\nimport ajax from './utils/http'\nimport { appClick } from './utils/app-auth' // 应用权限\nimport { getAllAppsData } from './components/search/index' // 搜索\nimport { bindLogout } from './utils/logout' // 退出\nimport { renderUserSetting } from './components/user-setting' // 渲染右侧用户中心相关模块\nimport { noData, defaultAppImg } from './utils/img' // 图片base64地址\nimport {\n  renderAppList,\n  renderPrimaryNav,\n  renderSettingList,\n  renderSecondaryNav,\n  renderSecondaryName\n} from './render'\nimport guidanceEntry from './components/guidance/index'\nimport $ebg from './components/message'\nimport { qtInit, isQtNavEmpty, renderCommonNav } from './qt'\nimport './assets/css/ebgnavigation.less'\n// 兼容ie\nif (!window.console) {\n  window.console = {\n    log: function (msg) {},\n    err: function (msg) {}\n  }\n}\nif (typeof Object.assign !== 'function') {\n  Object.assign = function (target) {\n    'use strict'\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object')\n    }\n\n    target = Object(target)\n    for (let index = 1; index < arguments.length; index++) {\n      let source = arguments[index]\n\n      if (source != null) {\n        for (let key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key]\n          }\n        }\n      }\n    }\n    return target\n  }\n}\n\nconst setOptions = (options) => {\n  if (utils.isObject(options)) {\n    if (options.type === 'application') {\n      config.type = options.type\n    }\n    if (options.hideLight) {\n      config.hideLight = options.hideLight\n    }\n    if (options.hideRole) {\n      config.hideRole = options.hideRole\n    }\n    if (options.notloginHideNavBar === true) {\n      config.notloginHideNavBar = options.notloginHideNavBar\n    }\n    if (options.test) {\n      config.test = options.test\n    }\n    if (options.primaryNav && typeof options.primaryNav === 'object') {\n      config.primaryNav.appLogo = options.primaryNav.appLogo\n      config.primaryNav.subtitle = options.primaryNav.subtitle\n      config.primaryNav.platformLogo = options.primaryNav.platformLogo\n      config.primaryNav.platformName = options.primaryNav.platformName\n      if (options.primaryNav.logoLink) {\n        config.primaryNav.logoLink = options.primaryNav.logoLink\n      }\n      if (options.primaryNav.appLogoLink) {\n        config.primaryNav.logoLink = options.primaryNav.appLogoLink\n      }\n      if (options.primaryNav.logoLinkTarget === '_blank') {\n        config.primaryNav.logoLinkTarget = options.primaryNav.logoLinkTarget\n      }\n      if (options.primaryNav.appName) {\n        config.primaryNav.appName = options.primaryNav.appName\n      }\n      if (options.primaryNav.logoEvent) {\n        config.primaryNav.logoEvent = options.primaryNav.logoEvent\n      }\n      if (Array.isArray(options.primaryNav.platformNavList)) {\n        config.primaryNav.platformNavList = options.primaryNav.platformNavList\n      }\n      if (Array.isArray(options.primaryNav.appList)) {\n        config.primaryNav.appList = options.primaryNav.appList\n      }\n      if (Array.isArray(options.primaryNav.appNavList)) {\n        config.primaryNav.appNavList = options.primaryNav.appNavList\n      }\n    }\n    if (options.secondaryNav && options.secondaryNav.secondaryName) {\n      config.secondaryNav.secondaryName = options.secondaryNav.secondaryName\n    }\n    if (\n      options.secondaryNav &&\n      Array.isArray(options.secondaryNav.secondaryNavList)\n    ) {\n      config.secondaryNav.secondaryNavList =\n        options.secondaryNav.secondaryNavList\n    }\n    if (options.operation && Array.isArray(options.operation.settingList)) {\n      config.operation.settingList = options.operation.settingList\n    }\n  }\n}\nconst getCurrentTheme = () => {\n  let _theme\n  if (!base.themeList.length) {\n    base.themeList = setThemeConfig() || []\n  }\n  base.themeList.some((item) => {\n    if (item.id === base.themeDefault) {\n      _theme = item\n      return true\n    }\n  })\n  base._theme = _theme\n}\n\nconst setFaviconIco = (logo) => {\n  if (!logo) return false\n  let newUrl = utils.delProtocol(logo)\n  // 插入新的标签页icon前，先将原先的icon DOM删除\n  let link = document.getElementsByTagName('link'),\n    linkLen = link.length\n  for (let i = 0; i < linkLen; i++) {\n    const linkItem = link[i]\n    let rel = linkItem && linkItem.getAttribute('rel')\n    if (rel && rel.indexOf('icon') !== -1) {\n      utils.removeElement(linkItem)\n    }\n  }\n  // 插入新的标签页icon\n  let newLink = document.createElement('link')\n  newLink.type = 'image/x-icon'\n  newLink.rel = 'shortcut icon'\n  newLink.href = newUrl + `?t=${Date.now()}`\n  document\n    .getElementsByTagName('head')[0]\n    .insertAdjacentElement('beforeend', newLink)\n}\n\n/**\n * 设置浏览器标签页logo\n */\nconst renderFavicon = () => {\n  if (!base._theme) {\n    getCurrentTheme()\n  }\n  if (!base._theme.icoUrl) return false\n  setFaviconIco(base._theme.icoUrl)\n}\n\nconst getCurrentLogo = () => {\n  if (!base._theme) return ''\n  return config.type === 'platform'\n    ? config.primaryNav.platformLogo || base._theme.platformLogo\n    : config.primaryNav.appLogo || base._theme.appLogo\n}\n\n/**\n * 渲染logo区域\n * 区分平台和应用\n */\nconst renderLogo = (delOldDom = false) => {\n  if (window.qt) {\n    renderAppList()\n    // 渲染主导航\n    renderPrimaryNav()\n    utils.handleClass(\n      document.querySelector('.ebgnav-app-list-separator'),\n      'add',\n      'hide'\n    )\n    utils.handleClass(document.querySelector('#ebgnav-logo'), 'add', 'hide')\n  } else {\n    // 获取导航配置\n    if (!base._theme) {\n      getCurrentTheme()\n    }\n    // 根据平台类型，取到对应的logo\n    config.primaryNav.logo = utils.delProtocol(getCurrentLogo())\n    const ebgnavLogoboxDom = $('#ebgnav-logo')\n    if (!ebgnavLogoboxDom) return false\n    if (delOldDom) {\n      ebgnavLogoboxDom.innerHTML = ''\n      renderAppList()\n    }\n    let logoLink = config.primaryNav.logoLink || 'javascript:;'\n    if (config.type === 'application') {\n      // 应用logo\n      ebgnavLogoboxDom.insertAdjacentHTML(\n        'afterbegin',\n        utils.templateRender(tpl.applicationLogoTemp, {\n          logoSrc: config.primaryNav.logo,\n          subtitle: config.primaryNav.subtitle,\n          appName: config.primaryNav.appName || '',\n          logoLink,\n          logoLinkTarget: config.primaryNav.logoLinkTarget || '_self'\n        })\n      )\n      // 渲染主导航\n      renderPrimaryNav()\n    } else {\n      logoLink = config.primaryNav.logoLink || base._theme.logoLink\n      // 平台logo\n      ebgnavLogoboxDom.insertAdjacentHTML(\n        'afterbegin',\n        utils.templateRender(tpl.platformLogoTemp, {\n          logoSrc: config.primaryNav.logo,\n          name: config.primaryNav.platformName,\n          logoLink,\n          logoLinkTarget: config.primaryNav.logoLinkTarget || '_self'\n        })\n      )\n      // 需要等到logo加载完成后执行渲染主导航\n      const ebgnavigationLogo = document.querySelector('#ebgnavigationLogo')\n      renderPrimaryNav()\n      utils.loadImg(ebgnavigationLogo, function () {\n        // 渲染主导航\n        if (ebgnavigationLogo && ebgnavigationLogo.clientWidth >= 130) {\n          console.log(ebgnavigationLogo.clientWidth)\n          renderPrimaryNav()\n        }\n      })\n    }\n    setLogoEvent()\n  }\n}\n\nconst setLogoEvent = () => {\n  if (!config.primaryNav.logoLink && config.primaryNav.logoEvent) {\n    // 给导航添加事件\n    const LogoEventDom = document.querySelector('#logo-event')\n    LogoEventDom &&\n      LogoEventDom.addEventListener('click', (e) => {\n        e.stopPropagation()\n        /** *\n         * 是否配置app logo 跳转地址\n         * 这里有几种场景\n         * 1，配置了 logoLink, 优先级最高，这个配了，就直接忽略其它场景\n         * 2，配置了logo的点击事件\n         * 3，没有配置跳转地址（直接从接口获取首页地址）\n         */\n        // 是否配置了logo自定义事件\n        if (typeof config.primaryNav.logoEvent === 'object') {\n          window.ebgnavigation.emit(\n            config.primaryNav.logoEvent.funcname,\n            config.primaryNav.logoEvent.property\n          )\n        } else if (typeof config.primaryNav.logoEvent === 'string') {\n          window.ebgnavigation.emit(config.primaryNav.logoEvent)\n        }\n      })\n  }\n}\n\n// 退出点击事件方法\nconst LogoutBtnEvent = (settings = []) => {\n  const loginBtn = document.querySelector('.logout-btn')\n  loginBtn &&\n    loginBtn.addEventListener('click', () => {\n      let logoutUrl = {}\n      settings.some((item) => {\n        logoutUrl = item\n        return item.key === 'user-logout'\n      })\n      if (logoutUrl.key) {\n        bindLogout(logoutUrl.url)\n      } else {\n        console.error('退出失败', logoutUrl)\n      }\n    })\n}\n// 显示搜索\nconst showSearch = () => {\n  getAllAppsData(apiUrl, base)\n}\n\n// 应用访问权限\nconst addAppEvent = () => {\n  const showSearchBtn = document.getElementById('show-search')\n  const dom = document.getElementById('ebgnav-defaultApplications')\n  const ul = dom.getElementsByTagName('ul')[0]\n  const li = ul && ul.getElementsByTagName('li'),\n    len = li && li.length\n  if (len) {\n    for (let i = 0; i < len; i++) {\n      let item = li[i].getElementsByTagName('a')[0]\n      let id = item.getAttribute('data-appid'),\n        name = item.getAttribute('title'),\n        url = item.getAttribute('href'),\n        target = item.getAttribute('target'),\n        appendParam = item.getAttribute('append-param')\n      item.onclick = (e) => {\n        e.preventDefault()\n        appClick({\n          id,\n          name,\n          url,\n          target,\n          hosturl: base.hosturl,\n          apiUrl: apiUrl,\n          appendParam\n        })\n      }\n    }\n  }\n  showSearchBtn.addEventListener('click', showSearch)\n}\n\n/**\n * 渲染默认推荐应用\n */\nconst renderApplications = () => {\n  if (\n    Array.isArray(base.applicationsList) &&\n    base.applicationsList.length > 0\n  ) {\n    $('#ebgnav-defaultApplications').innerHTML = utils.templateRender(\n      tpl.appIconListTemp,\n      base.applicationsList\n    )\n  } else {\n    // 渲染暂无数据\n    $(\n      '#ebgnav-defaultApplications'\n    ).innerHTML = `<div class=\"no-app-data\"><img src=\"${noData}\" /><p class=\"text\">管理员还没有设置常用应用</p></div>`\n  }\n  addAppEvent() // 应用访问权限\n}\n\n/**\n * 渲染用户信息\n */\nconst renderUserInfo = () => {\n  if (base.user.userId) {\n    $('#ebgnav-navUserinfo').innerHTML = utils.templateRender(\n      tpl.navUserTemp,\n      base.user\n    )\n    $('#ebgnav-detailUserinfo').innerHTML = utils.templateRender(\n      tpl.detailUserTemp,\n      base.user\n    )\n    utils.handleClass($('#ebgnav-box'), 'delete', 'render')\n  }\n}\n\n/**\n * 渲染登录按钮\n */\nconst renderLoginBtn = (themeId) => {\n  let cla = 'ebg-button ebg-button--small'\n  if (themeId === '1' || themeId === '2') {\n    cla += ' ebg-button--primary'\n  }\n  const loginbtn = document.querySelector('.ebgnav-operation-loginbtn'),\n    aLink = loginbtn && loginbtn.children[0]\n  if (aLink) {\n    aLink.href = `${base.hosturl || ''}/desktop/login`\n    aLink.setAttribute('class', cla)\n    console.log(aLink)\n    loginbtn.style.display = 'block'\n  }\n}\n\n/**\n * 判断当前元素是否包含某个class\n */\nconst isHasCurrentClassName = (el, className) => {\n  if (!className || !el) return false\n  const names = el.getAttribute('class')\n  return names.indexOf(className) !== -1\n}\n\n/**\n * 渲染设置皮肤\n */\nconst renderTheme = (themeId) => {\n  const ebgnavBox = $('#ebgnav-box')\n  // 用户没有设置，接口处也没有获取到，则使用默认主题\n  let _theme = getCurrentThemeId(themeId)\n  switch (_theme) {\n    case 'themeblue':\n      if (isHasCurrentClassName(ebgnavBox, 'themeblue')) return false\n      utils.handleClass(ebgnavBox, 'add', 'themeblue')\n      utils.handleClass(ebgnavBox, 'delete', 'themedark')\n      utils.handleClass(ebgnavBox, 'delete', 'themegreen')\n      utils.handleClass(ebgnavBox, 'delete', 'default')\n      break\n    case 'themedark':\n      if (isHasCurrentClassName(ebgnavBox, 'themedark')) return false\n      utils.handleClass(ebgnavBox, 'add', 'themedark')\n      utils.handleClass(ebgnavBox, 'delete', 'themegreen')\n      utils.handleClass(ebgnavBox, 'delete', 'themeblue')\n      utils.handleClass(ebgnavBox, 'delete', 'default')\n      break\n    case 'themegreen':\n      if (isHasCurrentClassName(ebgnavBox, 'themegreen')) return false\n      utils.handleClass(ebgnavBox, 'add', 'themegreen')\n      utils.handleClass(ebgnavBox, 'delete', 'themeblue')\n      utils.handleClass(ebgnavBox, 'delete', 'default')\n      utils.handleClass(ebgnavBox, 'delete', 'themedark')\n      break\n    default:\n      if (isHasCurrentClassName(ebgnavBox, 'default')) return false\n      utils.handleClass(ebgnavBox, 'add', 'default')\n      utils.handleClass(ebgnavBox, 'delete', 'themegreen')\n      utils.handleClass(ebgnavBox, 'delete', 'themeblue')\n      utils.handleClass(ebgnavBox, 'delete', 'themedark')\n  }\n}\nconst renderStyleModule = (res, isSwitchRole) => {\n  // 未登录\n  if (!res.user) {\n    // 渲染登录按钮\n    renderLoginBtn(res.navigationConfig && res.navigationConfig.positionTheme)\n    document.querySelector('.ebgnav-operation-setting').style.display = 'none'\n    $('.ebgnav-operation-userinfo')[0].style.display = 'none'\n  }\n  if (config.type === 'platform') {\n    $('.ebgnav-secondary')[0].style.display = 'none'\n    $('#ebgnav-isPlatform').style.display = 'none'\n    if (window.qt) {\n      utils.handleClass(document.querySelector('#ebgnav-box'), 'add', 'hide')\n      return false\n    }\n  } else {\n    $('#ebgnav-isPlatform').style.display = 'block' // 应用导航，在更多应用里面显示首页、门户入口\n    // 齿轮图标下拉菜单(应用导航)\n    renderSettingList()\n    // 渲染应用副列表 (应用导航)\n    renderAppList()\n    // 渲染应用二级导航名称\n    renderSecondaryName()\n    // 渲染应用二级副导航\n    renderSecondaryNav()\n  }\n  renderModule(res, isSwitchRole)\n}\n/**\n * 渲染框架到页面中\n */\nconst render = (callback) => {\n  // 域名需要配置成动态的\n  utils.loadStyle(\n    `${base.hosturl}/ebgnavigation/css/ebgnavigation.min.css`,\n    () => {\n      const ebgnavBoxContainer = document.querySelector('#ebgnav-box')\n      if (ebgnavBoxContainer) {\n        utils.removeElement(ebgnavBoxContainer)\n      }\n      document.body.insertAdjacentHTML(\n        'afterbegin',\n        utils.templateRender(tpl.baseTemp, config)\n      )\n      utils.handleClass(\n        document.querySelector('#ebgnav-box'),\n        'add',\n        config.type || 'platform'\n      )\n      _onresize()\n      callback()\n    }\n  )\n}\n\nconst getCurrentThemeLogoInfo = (menus, { themes, positionTheme }) => {\n  const data = themes,\n    id = positionTheme\n  if (id && data.length) {\n    base.themeDefault = id\n    base.themeList = setThemeConfig()\n    renderFavicon()\n    renderLogo()\n  }\n}\n\n/**\n * 设置默认皮肤名称\n * @param {*} value 值\n * @param {*} isSetting 用户设置\n */\nconst getCurrentThemeId = (value) => {\n  let _theme = 'default'\n  switch (value) {\n    case '1':\n      _theme = 'themedark'\n      base.themeDefault = value\n      break\n    case '3':\n      _theme = 'themeblue'\n      base.themeDefault = value\n      break\n    case '4':\n      _theme = 'themegreen'\n      base.themeDefault = value\n      break\n    default:\n      _theme = 'default'\n      base.themeDefault = value\n  }\n  base._themeId = _theme\n  return _theme\n}\n\n/**\n * 设置自定义导航\n * @param {*} list 导航列表\n */\nconst setPlatformNavList = (list) => {\n  if (list && list.length > 0) {\n    let _list = list\n    let newNavList = []\n    for (let i = 0; i < _list.length; i++) {\n      let item = {}\n      item.title = _list[i].moduleName\n      item.url = _list[i].moduleUrl\n      item.hasChildrenModules = _list[i].hasChildrenModules\n      if (_list[i].childrenModules && _list[i].childrenModules.length > 0) {\n        item.children = []\n        let _childrens = _list[i].childrenModules\n        for (let j = 0; j < _childrens.length; j++) {\n          item.children[j] = {}\n          item.children[j].title = _childrens[j].moduleName\n          item.children[j].url = _childrens[j].moduleUrl\n        }\n      }\n      newNavList.push(item)\n    }\n    base.platformNavList = newNavList\n  }\n}\nconst getDesktopLink = (menus) => {\n  let logoLink = ''\n  menus.some((item) => {\n    if (item.menuKey === 'desktop') {\n      logoLink = item.url\n      return true\n    }\n  })\n  return logoLink\n}\n/**\n * 设置皮肤数据\n * @param {*} themeList 皮肤列表\n */\nconst setThemeConfig = () => {\n  const newList = []\n  if (base.themeList.length > 0) return base.themeList\n  if (!(base.navbarConfig && base.navbarConfig.navigationConfig)) return newList\n  const themeList = base.navbarConfig.navigationConfig.themes\n  if (themeList && themeList.length > 0) {\n    let _list = themeList\n    let logoLink = getDesktopLink(base.navbarConfig.menus)\n    for (let i = 0; i < _list.length; i++) {\n      let item = {}\n      const itemData = _list[i]\n      item.id = itemData.id\n      item.name = itemData.name\n      item.platformLogo = itemData.platformLogoUrl\n      item.appLogo = itemData.appLogoUrl\n      item.logoLink = `${logoLink}`\n      item.icoUrl = itemData.iconUrl\n      newList.push(item)\n    }\n  }\n  base.themeList = newList\n  return newList\n}\n/**\n * 设置默认应用\n * @param {*} applicationslist 应用列表\n */\nconst setApplicationsList = (data = {}) => {\n  const dlDom = document.getElementById('ebgnav-defaultApplications')\n  dlDom &&\n    dlDom.insertAdjacentHTML(\n      'afterbegin',\n      '<p style=\"text-align: center\">加载中……</p>'\n    )\n  let dataLen = data.cloudNavApps.length\n  if (Array.isArray(data.cloudNavApps) && data.cloudNavApps.length > 0) {\n    let _array = []\n    data.cloudNavApps.forEach((item) => {\n      // 检查当前列表中所有图片，有加载异常的需要替换成默认图片\n      utils.loadImg(item.icon, function (err) {\n        let _item = {}\n        _item.appName = item.short_name\n        _item.url = item.url\n        _item.id = item.id\n        if (err) {\n          _item.src = defaultAppImg\n        } else {\n          _item.src = utils.delProtocol(item.icon)\n        }\n        _array.push(_item)\n        if (dataLen === _array.length) {\n          base.applicationsList = _array\n          renderApplications()\n        }\n      })\n    })\n  } else {\n    renderApplications()\n  }\n}\n/**\n * 设置用户信息\n * @param {*} userInfo 用户信息\n */\nconst setUserInfo = (userInfo) => {\n  if (userInfo) {\n    base.user.userName = userInfo.name\n    base.user.userPhoto =\n      utils.delProtocol(userInfo.userPhoto) || base.defaultAvatar // 用户未设置头像就用默认头像\n    base.user.loginName = userInfo.username\n    base.user.userId = userInfo.id\n    renderUserInfo()\n  }\n}\n// .menus, res.identityList\nconst renderAppBtn = ({ menus = [], identityList = [], roleInfo = {} }) => {\n  if (config.type !== 'application') return false\n  let count = 0\n  let platform = ''\n  menus &&\n    menus.forEach((item) => {\n      // 默认应用 （首页/个人门户）\n      if (item.menuKey === 'index') {\n        count++\n        platform += `<dd><a href=\"${item.url}\" target=\"_blank\">${item.name}</a></dd>`\n      }\n      if (item.menuKey === 'workbench') {\n        count++\n        // 获取当前用户的教师角色id\n        const cur = utils.getCurrentRole(identityList)\n        item.url = `${item.url}&tarIdentity=${cur.identity || ''}&roleType=${\n          roleInfo.currentRole\n        }`\n        platform += `<dd><a href=\"${item.url}\" target=\"_blank\">${item.name}</a></dd>`\n      }\n    })\n  // 默认应用 （首页/个人门户）\n  const el = $('#ebgnav-isPlatform')\n  if (el && platform) {\n    el.insertAdjacentHTML(\n      'afterbegin',\n      `<dl class=\"clearfix ${count > 1 ? 'two' : 'one'}\">${platform}</dl>`\n    )\n  }\n}\n\n// 给接口获取到的菜单设置协议 (后面强制加的逻辑)\nconst mainMenuAddHttps = (data) => {\n  if (Array.isArray(data)) {\n    let host\n    if (base.hosturl) {\n      host = base.hosturl.replace('http://', 'https://')\n    } else {\n      host = old.getJsonpHostInScript(old.getCurrentScript().src)\n    }\n    data &&\n      data.forEach((item) => {\n        // 带协议的域名不需要做处理\n        if (item.url.indexOf('http') !== -1) return false\n        // 退出不需要做处理\n        if (item.key === 'user-logout') return false\n        item.url = `${host}${item.url}`\n      })\n  }\n}\n\nconst initNavbarConfigData = (res, isSwitchRole) => {\n  res.identityInfo = res.identityList\n  window.getNavbarConfigData = res\n  sessionStorage.setItem('getNavbarConfigData', JSON.stringify(res))\n  window.ebgnavigation.emit('getNavbarConfigData', res)\n  const user = res.user || {}\n  if (config.notloginHideNavBar === true && !user.id) {\n    console.log('根据用户配置，未登录时，将不显示导航')\n    utils.loadNavigationError('根据用户配置，未登录时，将不显示导航')\n  } else {\n    mainMenuAddHttps(res && res.menus) // 将菜单转换成https\n    mainMenuAddHttps(res && res.settings) // 将设置下拉菜单转换成https\n    // 追加带二级菜单的数据(平台配置的导航)\n    setPlatformNavList(res.navigationConfig.platformMoudles || [])\n    base.navbarConfig = res\n    render(() => {\n      renderStyleModule(res, isSwitchRole)\n    }) // 初始化渲染\n    // _onresize()\n  }\n}\n\n/**\n * 请求接口获取其他配置\n */\nconst ajaxGetOtherConfig = (isSwitchRole) => {\n  window.getNavbarConfigData = null\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallback2' + Date.now(),\n    data: {\n      platformSet: true,\n      ticket: base.ticket,\n      service: 'http://ebgnavigation'\n    },\n    time: 5000,\n    url: base.hosturl + '/desktop/backend/api/portal/navbarConfig',\n    success: (res = {}) => {\n      initNavbarConfigData(res, isSwitchRole)\n      base.navbarConfig = res\n    },\n    error: () => {\n      // 派发导航加载失败事件\n      utils.loadNavigationError('navbarConfig接口异常')\n    }\n  })\n}\nconst renderModule = (res, isSwitchRole) => {\n  // 追加menus菜单\n  if (res.menus.length) {\n    config.primaryNav.platformNavList = res.menus\n  }\n  if (res.navigationConfig && res.navigationConfig.positionTheme) {\n    // 设置主题\n    renderTheme(res.navigationConfig.positionTheme)\n    // 根据主题获取对应的Logo\n    getCurrentThemeLogoInfo(res.menus, res.navigationConfig)\n  }\n  // 以下模块只有登录后才需要加载, 并且需要依赖当前接口返回的数据\n  if (res.user) {\n    // 加载feedback模块\n    // setLoadFeedback(res, base.hosturl)\n\n    // 设置应用 个人门户、平台首页按钮跳转\n    res.menus.length && renderAppBtn(res)\n    // 用户信息设置\n    setUserInfo(res.user)\n\n    if (isSwitchRole !== 'switchRole') {\n      // 新手指引\n      guidanceEntry(res.user, base.hosturl)\n    }\n    // 渲染用户设置信息列表\n    renderUserSetting(res, base, config)\n    // 用户中心消息和退出点击事件方法\n    LogoutBtnEvent(res.settings)\n    // 获取推荐应用\n    moreApplicationEvent()\n  }\n}\n\nconst moreApplicationEvent = () => {\n  document.querySelector('.ebgnav-operation-appentry').style.display = 'block'\n  const appentry = document.querySelector('.ebgnav-operation-appentry')\n  let status = false\n  appentry &&\n    appentry.addEventListener('mouseenter', () => {\n      if (!status) {\n        console.log('ebgnav-operation-appentry')\n        ajaxGetDefaultApp()\n        status = true\n      }\n    })\n}\nconst ajaxGetDefaultApp = () => {\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallback8',\n    url: `${base.hosturl}/desktop/backend/api/portal/navAppVos`,\n    success: (res) => {\n      setApplicationsList(res)\n    }\n  })\n}\n\nconst resizeChange = tools.debounce(() => {\n  console.log('ebgnavigation debounce')\n  renderPrimaryNav()\n  if (config.type === 'application') renderSecondaryNav()\n}, 200)\n\n/**\n * 监听浏览器窗口大小变化并作出响应\n */\n\nconst _onresize = () => {\n  // base.clientWidth = document.body.clientWidth || document.documentElement.clientWidth\n  window.removeEventListener('resize', resizeChange)\n  window.addEventListener('resize', resizeChange, false)\n}\n\n/**\n * 判断是否是本地应用，如果是将不加载导航\n */\nconst isLocalAppPlatform = (localUrl, scriptUrlHostname) => {\n  const hostname = utils.getUrlOrigin(localUrl, 3)\n  return !hostname || !hostname.includes(scriptUrlHostname)\n}\nconst realJsonpHostHandle = (localUrl, ebgUrl, fn) => {\n  const localProtocol = localUrl.split('//')[0]\n  const browseProtocol = window.location.protocol\n  let isReload = false // 用于判断是否需要重新加载JS\n  let isLocal = false // 用于判断是否是本地应用\n  const scriptUrlHostname = utils.getUrlOrigin(ebgUrl, 3).replace(/^www./, '') // 获取到当前加载导航JS地址的hostname\n  if (localProtocol === 'http:' && browseProtocol === 'https:') {\n    isLocal = isLocalAppPlatform(localUrl, scriptUrlHostname)\n    localUrl = ebgUrl\n  }\n  const isSame = localUrl.indexOf(scriptUrlHostname) === -1\n  if (isSame && localUrl !== ebgUrl) {\n    isReload = true\n  }\n  fn(localUrl, isReload, isLocal)\n}\nfunction getSSOStatus(ssoUrl, hosturl, fn) {\n  ajax({\n    type: 'GET',\n    url: ssoUrl + '/login',\n    jsonp: 'jsonpLogin' + Date.now(),\n    data: {\n      crossDomain: true,\n      needAttribute: true,\n      service: 'http://ebgnavigation'\n    },\n    success: function (data) {\n      // 万兴说的不会失败，失败了找他\n      if (data && typeof data === 'string') {\n        try {\n          data = JSON.parse(data)\n          if (data.code === 1001) {\n            // 已经登录了\n            base.ticket = data.data.st\n            fn(hosturl)\n            return false\n          }\n          // 如果调用平台sso失败，则尝试调用中心sso\n          // centerSsoUrl 中心SSO地址\n          base.ssoRequestNum++\n          if (base.ssoCenterUrl && base.ssoRequestNum <= 2) {\n            getSSOStatus(base.ssoCenterUrl, hosturl, fn)\n          } else {\n            // 未登录\n            base.hosturl = hosturl\n            ajaxGetOtherConfig()\n          }\n        } catch (e) {\n          // 未登录\n          base.hosturl = hosturl\n          ajaxGetOtherConfig()\n        }\n      }\n    },\n    error: function () {\n      utils.loadNavigationError('sso接口异常')\n    }\n  })\n}\n// triggerLoginResult 回调函数\nwindow.triggerLoginResult = function () {}\n\n// 登录后重定向\nfunction getTriggerlogin(validUrl, fn) {\n  const script = document.createElement('script')\n  script.src =\n    validUrl +\n    '/desktop/backend/api/portal/triggerLogin.do?callback=triggerLoginResult'\n  document.body.appendChild(script) // 插入页面之后才会发起请求\n  script.onload = function () {\n    fn && fn()\n    script.parentNode.removeChild(script)\n  }\n  script.onerror = function () {\n    fn && fn()\n    script.parentNode.removeChild(script)\n  }\n}\nconst getConfig = (validUrl, fn) => {\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallback15' + Date.now(),\n    url: validUrl + '/desktop/backend/login/sso/config',\n    success: (data) => {\n      if (data['sso.server']) {\n        base.ssoCenterUrl = data['sso.center.server']\n        fn(data['sso.server'])\n      }\n    },\n    error: () => {\n      if (window.qt) {\n        initNavbarConfigData({})\n      } else {\n        utils.loadNavigationError('sso/config接口异常')\n      }\n    }\n  })\n}\n\nconst getIsSuccess = (validUrl, fn) => {\n  ajax({\n    type: 'GET',\n    jsonp: 'jsonpCallback12',\n    data: {\n      platformSet: true,\n      service: 'http://ebgnavigation',\n      ticket: base.ticket\n    },\n    url: validUrl + '/desktop/backend/api/portal/navbarConfig',\n    time: 5000,\n    success: (res) => {\n      base.navbarConfig = res\n      window.ebgnavigationUser = res.user\n      old.reloadNav(config, res, validUrl)\n      return false\n    },\n    error: () => {\n      // 如果走到这里，说明不支持新导航，加载老导航\n      if (window.qt) {\n        initNavbarConfigData({})\n      } else {\n        console.log('navbarConfig接口调不通，加载导航失败')\n        utils.loadNavigationError()\n        return false\n      }\n    }\n  })\n}\n\n/**\n * 获取平台信息\n */\nconst getPlatformStatus = (cb) => {\n  if (window.qt) {\n    cb(true)\n    return false\n  }\n  let currentScript = old.getCurrentScript()\n  let _src = currentScript && currentScript.src\n  if (base.hosturl) {\n    _src = base.hosturl\n  }\n  old.getJsonpHost(_src, null, (url) => {\n    let isPlatform = !!url\n    if (cb && typeof cb === 'function') {\n      cb(isPlatform)\n    }\n  })\n}\n\nconst getJsonpHostUrl = (fn) => {\n  let currentScript = old.getCurrentScript()\n  let _src = currentScript && currentScript.src\n  // 将页面获取到的新导航js url地址保存起来，后面某些场景需要用到\n  base._src = _src\n  old.getJsonpHost(_src, null, (url) => {\n    if (!url) {\n      // 获取当前引入JS的URL地址或浏览器的地址\n      base.hosturl = old.getJsonpHostInScript(_src)\n    } else {\n      // 已登录\n      base.hosturl = url\n    }\n    // 判断本地平台域名是否是http的，并且浏览器的协议是否是https的， 如果是的话，直接走默认逻辑 false 走下一步\n    // 下一步，判断接口的域名是否和引入js的域名加协议是否一致，不一至的话，取接口的地址重新加载js\n    realJsonpHostHandle(\n      base.hosturl,\n      old.getJsonpHostInScript(_src),\n      (validUrl, local, breakEb) => {\n        if (breakEb) {\n          console.log('应用为本地应用，加载导航失败')\n          // window.ebgnavigation.emit('loadNavigationError')\n          if (window.qt) {\n            initNavbarConfigData({})\n          } else {\n            utils.loadNavigationError()\n            return false\n          }\n        }\n        // 获取sso url\n        getConfig(validUrl, (ssoUrl) => {\n          // 获取登录状态\n          getSSOStatus(ssoUrl, validUrl, () => {\n            // 登录重定向\n            getTriggerlogin(validUrl, () => {\n              /**\n               * @param {*} validUrl 有效的域名地址\n               * @param {*} local 用于判断是否需要重新加载导航js, local为true里，需要用有效的域名地址重新加载导航js\n               * 当走到这里时，说明需要把导航Js的地址换成接口入获取的地址，重新加载导航js\n               * 加载js前，需要通过调个接口判断新的导航url是否能正常加载\n               */\n              if (local) {\n                // reload JS\n                window.ebgnavigation.emit('reloadEbgnavigation')\n                getIsSuccess(validUrl)\n              } else {\n                let hosturl = validUrl\n                // 强制使用https访问\n                base.hosturl = hosturl\n                // 取url最后一位，看是否带/\n                const t = base.hosturl.charAt(base.hosturl.length - 1)\n                const len = base.hosturl.length\n                // 如果带/，统一删除处理\n                base.hosturl =\n                  t === '/' ? base.hosturl.substring(0, len - 1) : base.hosturl\n                fn && fn()\n              }\n            })\n          })\n        })\n      }\n    )\n  })\n}\nconst changeListCurrentItem = (list, title) => {\n  for (let index = 0; index < list.length; index++) {\n    const element = list[index]\n    if (element.title === title) {\n      element.current = true\n    } else {\n      element.current = false\n    }\n  }\n}\n\nconst validateData = (data, api) => {\n  api = api ? `${api} ` : ''\n  if (!Array.isArray(data)) {\n    $ebg.message(`${api}API仅支持Array类型数据`, 'error', 3000)\n    return false\n  }\n  // 缓存多次操作\n  setTimeout(() => {\n    // 用户动态设置完成后，判断下导航是否有数据，如果无则隐藏导航\n    isQtNavEmpty()\n  }, 20)\n  return true\n}\nconst getUrlDefaultParam = () => {\n  const currentScript = old.getCurrentScript()\n  const url = currentScript && currentScript.src\n  if (typeof url !== 'string' || !url) return {}\n  const params = utils.getUrlOrigin(url, 6) || '' // 获取url后面的参数\n  let obj = {}\n  const list = params.split('&')\n  list.forEach((item) => {\n    const [key, value] = item.split('=')\n    obj[key] = value\n  })\n  return obj\n}\nconst setDefaultApplication = (init, options) => {\n  config.type = options.type\n  if (options.appName) {\n    config.primaryNav.appName = decodeURIComponent(options.appName)\n  }\n  if (options.subtitle) {\n    config.primaryNav.subtitle = decodeURIComponent(options.subtitle)\n  }\n  if (options.appLogo) {\n    config.primaryNav.appLogo = options.appLogo\n  }\n  if (options.logoLink) {\n    config.primaryNav.logoLink = options.logoLink\n  }\n  if (options.logoLinkTarget === '_blank') {\n    config.primaryNav.logoLinkTarget = options.logoLinkTarget\n  }\n  if (options.logoEvent) {\n    config.primaryNav.logoEvent = options.logoEvent\n  }\n  if (options.hideLight === 'true') {\n    config.hideLight = true\n  }\n  if (options.hideRole === 'true') {\n    config.hideRole = true\n  }\n  if (options.notloginHideNavBar === 'true') {\n    config.notloginHideNavBar = true\n  }\n  if (options.platform === 'true') {\n    // 是否来自于平台\n    config.platform = true\n    ebgnavigation.getPlatform((f) => {\n      if (!f) {\n        utils.loadNavigationError('不是来自平台，直接走catch逻辑')\n      } else {\n        init(config)\n      }\n    })\n  } else {\n    init(config)\n  }\n}\n\nconst queue = () => {\n  if (!base.queueTimer) {\n    base.queueTimer = true\n    setTimeout(() => {\n      renderLogo(true)\n      base.queueTimer = null\n    }, 20)\n  }\n}\nconst setSearchParams = (url, value = 'production') => {\n  if (!url) return ''\n  let urlObj = new URL(url)\n  // 设置或更新参数值\n  urlObj.searchParams.set('szjzsaas', value)\n  // 获取更新后的URL字符串\n  return urlObj.toString()\n}\nclass Ebgnavigation {\n  constructor(events) {\n    this.name = 'ebgnavigation'\n    this.update = new Date()\n    this.events = events || {}\n    setTimeout(() => {\n      const params = getUrlDefaultParam()\n      if (params.type === 'application' || params.type === 'platform') {\n        setDefaultApplication(this.init, params)\n      }\n    }, 20)\n  }\n\n  /**\n   * 订阅者\n   * @param {*} name 名称\n   * @param {*} cb 回调\n   */\n  on(name, cb) {\n    ;(this.events[name] || (this.events[name] = [])).push(cb)\n\n    return {\n      unon: () =>\n        this.events[name] &&\n        this.events[name].splice(this.events[name].indexOf(cb) >>> 0, 1)\n    }\n  }\n\n  /**\n   * 发布者\n   * @param {*} name 名称\n   * @param  {...any} args 参数\n   */\n  emit(name, ...args) {\n    ;(this.events[name] || []).forEach((fn) => fn(...args))\n  }\n\n  /**\n   * 获取配置信息\n   */\n  get config() {\n    return config\n  }\n\n  /**\n   * 获取平台信息\n   */\n  getPlatform(cb) {\n    getPlatformStatus(cb)\n  }\n\n  /**\n   * 初始化导航方法\n   * @param {*} options 初始化参数\n   */\n  init(options, navbarData, isSwitchRole) {\n    utils.clearDefaultEmitEvent()\n    setOptions(options)\n    const { search, hash } = location\n    const params = utils.getURLParameters(search || hash)\n    const ecsDesktopServer = utils.getCookie('szjzsaasDesktopServer')\n    const urls = {\n      test: 'https://szjzsaas.ceshiservice.cn',\n      production: 'https://szjz.jyyun.com'\n    }\n    // 增加逻辑,通过地址栏参数，判断如果是来自于szjzsaas平台\n    if (['test', 'production'].includes(params.szjzsaas)) {\n      if (urls[params.szjzsaas]) {\n        document.cookie = `szjzsaasDesktopServer=${\n          urls[params.szjzsaas]\n        }; SameSite=None; Secure`\n        // 来自于szjzsaas环境，重新加载szjzsaas环境的导航JS\n        old.reloadNav(config, {}, urls[params.szjzsaas])\n        return\n      }\n    } else if (ecsDesktopServer) {\n      const decodeUrl = decodeURIComponent(ecsDesktopServer)\n      const isSzjzSaas =\n        decodeUrl.includes(urls.test) || decodeUrl.includes(urls.production)\n      const isEbgDemo = location.href.includes(\n        'ecstest.ledc.changyan.cn/ebgnavigation/'\n      )\n      const isJyyun = isEbgDemo\n        ? false\n        : location.origin.includes('jyyun.com') ||\n          location.origin.includes('ecstest.ledc.changyan.cn')\n      if (decodeUrl && isSzjzSaas && !isJyyun) {\n        const value = decodeUrl.includes(urls.test) ? 'test' : 'production'\n        window.location.href = setSearchParams(location.href, value)\n        return\n      }\n    }\n    if (params.ebgUrl) {\n      base.hosturl = params.ebgUrl\n    }\n    if (params.qt) {\n      window.qt = params.qt\n    }\n    base.navRenderCompleted = null\n    if (base.inited) {\n      console.warn(\n        '强烈不建议多次执行init()方法，如需动态设置菜单，可采用导航提供的对应api动态设置。详情http://wiki.iflytek.com/pages/viewpage.action?pageId=309082434'\n      )\n    } else {\n      base.inited = true\n    }\n    if (\n      navbarData &&\n      typeof navbarData === 'object' &&\n      Object.keys(navbarData).length > 0\n    ) {\n      base.navbarConfig = navbarData\n    }\n    // ie兼容处理\n    const head = document.getElementsByTagName('head')[0]\n    const httpEquiv =\n      '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">'\n    if (head.innerHTML.indexOf(httpEquiv) === -1) {\n      head.insertAdjacentHTML('afterbegin', httpEquiv)\n    }\n    if (window.qt) {\n      // 执行QT环境逻辑\n      qtInit((userInfo) => {\n        console.log('userInfo', userInfo, config.type)\n        // 获取当前加载JS的url地址\n        const jsUrl = old.getJsonpHostInScript(old.getCurrentScript().src)\n        base.hosturl = jsUrl\n        // 渲染导航主体框架及加载css文件\n        render(() => {\n          // 加载完成后，开始渲染菜单模块\n          renderCommonNav()\n        })\n      })\n    } else {\n      // web逻辑\n      if (!base.hosturl) {\n        getJsonpHostUrl(() => {\n          // 获取导航主要信息\n          ajaxGetOtherConfig(isSwitchRole)\n        })\n      } else {\n        // /desktop/backend/login/getLoginStatus\n        // 开始进行接口请求\n        // 获取导航主要信息\n        ajaxGetOtherConfig(isSwitchRole)\n      }\n    }\n  }\n\n  created(callback = () => {}) {\n    if (window.getNavbarConfigData) {\n      callback(false, window.getNavbarConfigData)\n    } else {\n      window.ebgnavigation.on('getNavbarConfigData', (data) => {\n        callback(false, data)\n      })\n    }\n    if (window.loadNavigationError === 'failed') {\n      callback(true)\n    } else {\n      window.ebgnavigation.on('loadNavigationError', () => {\n        callback(true)\n      })\n    }\n  }\n\n  mounted(callback = () => {}) {\n    if (window.navRenderCompleted === 'navRenderCompleted') {\n      callback()\n    } else {\n      window.ebgnavigation.on('navRenderCompleted', callback)\n    }\n  }\n\n  /**\n   * 将点击的菜单设置为高亮\n   * @param {*} parentIndex 当前点击菜单的父级index\n   * @param {*} index 当前点击菜单Index\n   */\n  setHighlightNav() {\n    throw new Error('此API已经废弃')\n  }\n  /**\n   * 5.1、动态设置应用名称\n   * @param {*} name  应用名称\n   */\n  setHighlight(newConfig) {\n    // if (typeof newConfig !== 'number' && !newConfig) throw new Error('')\n    let appNavList = newConfig.appNavList\n    let secondaryNavList = newConfig.secondaryNavList\n    let tempTitle, tempTitleSecond\n    let list = config.primaryNav.appNavList\n    let secondList = config.secondaryNav.secondaryNavList\n    if (typeof appNavList === 'object') {\n      // 设置的是对象,通过title判断对象\n      if (appNavList) {\n        tempTitle = appNavList.title || ''\n      }\n      // 如果有二级应用\n      if (secondaryNavList) {\n        tempTitleSecond = secondaryNavList.title || ''\n      }\n    } else if (\n      (typeof Number(appNavList) === 'number' && !isNaN(appNavList)) ||\n      (typeof Number(secondaryNavList) === 'number' && !isNaN(secondaryNavList))\n    ) {\n      // 设置的是索引，因此我们需要修改索引高亮，取消其他\n      if (appNavList && appNavList >= list.length) {\n        console.error('主应用修改索引长度超过最大长度', list.length)\n        return\n      }\n      if (secondaryNavList && secondaryNavList >= secondList.length) {\n        console.error('二级应用修改索引长度超过最大长度', secondList.length)\n        return\n      }\n      if (appNavList >= 0) {\n        tempTitle = list[appNavList].title\n      }\n      if (secondaryNavList >= 0) {\n        tempTitleSecond = secondList[secondaryNavList].title\n      }\n    }\n    if (tempTitle) {\n      changeListCurrentItem(list, tempTitle)\n    }\n    if (tempTitleSecond) {\n      changeListCurrentItem(secondList, tempTitleSecond)\n      renderSecondaryNav()\n    }\n  }\n\n  /**\n   * 5.2、动态设置应用名称\n   * @param {*} name  应用名称\n   * @param {string} subtitle  副应用名称\n   */\n  setAppName(property) {\n    if (!utils.isObject(property) && !utils.isString(property)) {\n      return false\n    }\n    if (utils.isString(property)) {\n      config.primaryNav.appName = property\n      config.primaryNav.platformName = property\n    } else if (utils.isObject(property)) {\n      if (Object.keys(property).length === 0) {\n        return false\n      }\n      if (config.type === 'application') {\n        // 应用logo\n        utils.isString(property.name) &&\n          (config.primaryNav.appName = property.name)\n        utils.isString(property.logo) &&\n          (config.primaryNav.appLogo = property.logo)\n        utils.isString(property.subtitle) &&\n          (config.primaryNav.subtitle = property.subtitle)\n      } else {\n        // 平台logo\n        utils.isString(property.name) &&\n          (config.primaryNav.platformName = property.name)\n        utils.isString(property.logo) &&\n          (config.primaryNav.appLogo = property.logo)\n      }\n    }\n    renderLogo(true)\n  }\n  setSubtitle(title) {\n    if (typeof title !== 'string') return false\n    config.primaryNav.subtitle = title\n    // ebgnavigation.setAppName(config.primaryNav.appName)\n    queue()\n  }\n  /**\n   * 5.3、动态设置应用筛选\n   * @param {*} name  应用名称\n   */\n  setAppList(appList, property) {\n    if (validateData(appList, 'setAppList')) {\n      // const oldValue = config.primaryNav.appList[0]\n      if (!Array.isArray(config.primaryNav.appList)) {\n        config.primaryNav.appList = []\n      }\n      if (property === 'concat') {\n        config.primaryNav.appList.push(...appList)\n      } else {\n        config.primaryNav.appList = appList\n      }\n      // const newValue = config.primaryNav.appList[0]\n      // if ((oldValue && newValue) || (!oldValue && !newValue)) {\n      //   console.log('老的有值 ，新的也有值', oldValue, config.primaryNav.appList[0])\n      // }\n      const ebgnavEbgnavLogobox = $('#ebgnav-ebgnavLogobox')\n      ebgnavEbgnavLogobox && queue()\n      // renderAppList(true)\n    }\n  }\n\n  /**\n   * 5.4、动态设置主导航\n   * @param {*} name\n   */\n  setAppNavList(data, property) {\n    if (!validateData(data, 'setAppNavList')) return false\n    let arr = []\n    data.forEach((item) => {\n      if (item.title) {\n        arr.push(item)\n      }\n    })\n    if (config.type === 'application') {\n      if (!Array.isArray(config.primaryNav.appNavList)) {\n        config.primaryNav.appNavList = []\n      }\n      // 追加\n      if (property === 'concat') {\n        config.primaryNav.appNavList.push(...arr)\n      } else {\n        config.primaryNav.appNavList = arr\n      }\n    } else {\n      config.primaryNav.appNavList = arr\n    }\n    // renderPrimaryNav()\n    let element = document.querySelector('#ebgnav-primaryNavList')\n    element && queue()\n  }\n\n  /**\n   * 5.5、动态设置次导航名称\n   */\n  setSecondaryName(name) {\n    config.secondaryNav.secondaryName = name\n    const secondaryName = $('#ebgnav-secondaryName')\n    secondaryName && renderSecondaryName()\n  }\n\n  /**\n   * 5.6、动态设置次导航\n   * @param {*} array 次导航菜单\n   */\n  setSecondaryNavList(array, property) {\n    if (!validateData(array, 'setSecondaryNavList')) return false\n    if (!Array.isArray(config.secondaryNav.secondaryNavList)) {\n      config.secondaryNav.secondaryNavList = []\n    }\n    if (property === 'concat') {\n      config.secondaryNav.secondaryNavList.push(...array)\n    } else {\n      config.secondaryNav.secondaryNavList = array\n    }\n    const secondaryNavDom = $('.ebgnav-secondary')[0]\n    secondaryNavDom && renderSecondaryNav()\n  }\n\n  /**\n   * 5.7、动态设置自定义入口\n   * @param {*} name\n   */\n  setSettingList(array, property) {\n    if (!validateData(array, 'setSettingList')) return false\n    if (config.type === 'application' && config.operation) {\n      if (!Array.isArray(config.operation.settingList)) {\n        config.operation.settingList = []\n      }\n      if (property === 'concat') {\n        config.operation.settingList.push(...array)\n      } else {\n        config.operation.settingList = array\n      }\n    }\n    renderSettingList()\n  }\n\n  // 隐藏导航栏\n  hideNavBar() {\n    const box = document.getElementById('ebgnav-box')\n    box && (box.style.display = 'none')\n  }\n\n  // 显示导航栏\n  showNavBar() {\n    const box = document.getElementById('ebgnav-box')\n    box && (box.style.display = 'block')\n  }\n\n  /*\n   * 对外暴露了一个刷新appList的接口\n   */\n  refreshAppList() {\n    renderAppList()\n  }\n\n  /**\n   * 更新LOGO\n   */\n  updateLogo(url) {\n    if (url) {\n      // renderLogo(true, url)\n      if (config.type === 'application') {\n        config.primaryNav.appLogo = url\n      } else {\n        config.primaryNav.platformLogo = url\n      }\n      queue()\n    } else {\n      throw new Error('更新logo, url不能为空')\n    }\n  }\n  // 设置ico\n  setFavicon(url) {\n    setFaviconIco(url)\n  }\n\n  // 设置appList name\n  setAppListCurrentName(name) {\n    if (!name) throw new Error('参数不能为空')\n    if (typeof name !== 'string') throw new Error('参数必须是String类型')\n    if (\n      config.type === 'application' &&\n      config.primaryNav.appList.length === 1\n    ) {\n      $('#ebgnav-app-current-name').innerText = name\n      config.primaryNav.appList[0].title = name\n    }\n  }\n\n  /**\n   * 可以对外暴露的切换主题\n   * @param {*} theme 主题参数支持 'default，themedark，themeblue，themegreen，1，2，3，4'\n   */\n  switchTheme(theme) {\n    // throw new Error('switchTheme：该功能已废弃')\n    theme = theme + '' // 传进来的ID有可能是Number类型,需要转换成String\n    const type = ['1', '2', '3', '4']\n    const type2 = ['themedark', 'default', 'themeblue', 'themegreen']\n    // 默认default:纯白，themedark:雅黑，themeblue:天蓝\n    if ([...type, ...type2].indexOf(theme) === -1) {\n      console.error(`主题ID设置错误, 仅支持参数：${[...type, ...type2]}`)\n      return false\n    }\n    if (type2.indexOf(theme) !== -1) {\n      const obj = {\n        themedark: '1',\n        default: '2',\n        themeblue: '3',\n        themegreen: '4'\n      }\n      theme = obj[theme]\n    }\n    // 触发平台下发的换肤操作\n    ebgnavigation.emit('switchTheme', theme)\n    renderTheme(theme)\n  }\n}\nconst ebgnavigation = new Ebgnavigation()\nif (window.ebgnavigation) {\n  if (window.ebgnavigation.events) {\n    ebgnavigation.events = window.ebgnavigation.events\n  }\n}\nwindow.ebgnavigation = ebgnavigation\nexport default ebgnavigation\n","import { config } from './constant'\nimport { loadScript, handleClass } from './utils/utils'\nimport {\n  renderAppList,\n  renderPrimaryNav,\n  renderSettingList,\n  renderSecondaryNav,\n  renderSecondaryName\n} from './render'\nlet qtReLoadCount = 0\nexport const qtInit = (callback) => {\n  // 本地调试代码\n  if (window.qt === 'dev') {\n    callback()\n    return false\n  }\n  // 获取容器用户信息\n  getQtUserInfo((result) => {\n    const res = {\n      identityList: [],\n      identityInfo: [],\n      roleInfo: { roleList: [] },\n      childUserId: result.childUserId,\n      user: {\n        // ...result,\n        childUserId: result.childUserId,\n        tarUserType: result.userRole,\n        id: result.userId,\n        name: result.userName\n      }\n    }\n    for (let key in result) {\n      res.user[key] = result[key]\n    }\n    window.getNavbarConfigData = res\n    window.ebgnavigation.emit('getNavbarConfigData', res)\n    console.log('设置过的数据', res)\n    callback(res)\n  })\n}\nconst getQtUserInfo = (callback) => {\n  loadQWebChannel((err) => {\n    if (err) {\n      callback({})\n      return false\n    }\n    console.log('统一导航-----QWebChannel', window)\n    window.FlyQtNavigator.getUserInfos(function (res) {\n      const result = JSON.parse(res)\n      console.log('统一导航获取到QT数据', result)\n      callback(result)\n    })\n  })\n}\n\n// 异步加载qt容器JS资源\nconst loadQWebChannel = (callback) => {\n  if (window.FlyQtNavigator) {\n    callback()\n    return\n  }\n  if (qtReLoadCount < 5) {\n    setTimeout(() => {\n      qtReLoadCount++\n      loadQWebChannel(callback)\n    }, 200)\n  } else {\n    // 引入qwebchannel.js\n    const url =\n      'https://public.res.lezhiyun.com/xiaoxin/download/xiaoxin/qwebchannel.js'\n    loadScript(url, () => {\n      if (!window.FlyQtNavigator) {\n        try {\n          // 初始化qt对象\n          // eslint-disable-next-line no-new\n          new window.QWebChannel(window.qt.webChannelTransport, (channel) => {\n            window._XBridgeQtChannelInstance = channel.objects\n            console.log(\n              'window._XBridgeQtChannelInstance--ebgnavigation finish',\n              channel.objects\n            )\n            window.FlyQtNavigator = channel.objects.FlyQtNavigator\n            callback()\n          })\n        } catch (err) {\n          callback(err)\n        }\n      } else {\n        callback()\n      }\n    })\n  }\n}\n\n/**\n * 判断QT环境下，导航可显示项目是否全部为空\n */\nexport const isQtNavEmpty = () => {\n  // 如果没有QT环境，则退出函数\n  if (!window.qt) return\n  // 解构出导航项\n  const { primaryNav, secondaryNav, operation } = config\n  // 检查导航项是数据否全部为空\n  const isEmpty = [\n    primaryNav.appNavList,\n    primaryNav.appList,\n    operation.settingList,\n    secondaryNav.secondaryNavList\n  ].every((nav) => !nav.length)\n  // 获取导航盒子元素\n  const ebgNavBox = document.querySelector('#ebgnav-box')\n  // 为false则隐藏导航\n  isEmpty\n    ? handleClass(ebgNavBox, 'add', 'hide')\n    : handleClass(ebgNavBox, 'delete', 'hide')\n}\n\n// 渲染各个菜单\nexport const renderCommonNav = () => {\n  // 获取当前加载JS的url地址\n  handleClass(document.querySelector('#ebgnav-box'), 'add', 'default')\n  handleClass(\n    document.querySelector('.ebgnav-operation-userinfo'),\n    'add',\n    'hide'\n  )\n  // 渲染主导航\n  renderPrimaryNav()\n  renderSecondaryNav()\n  renderSettingList()\n  renderAppList()\n  renderSecondaryName()\n  console.time()\n  isQtNavEmpty() // 判断下当导航菜单是否为空, 如为空则隐藏导航\n}\n","import { config, base, tpl } from './constant'\nimport {\n  handleClass,\n  templateRender,\n  commonNavEvent,\n  displayElement,\n  renderApplicationNavbar,\n  getBrowseUrlIdActiveMenu\n} from './utils/utils'\nimport { renderEbgNav } from './utils/render-ebg-nav'\nimport { teacherRole } from './components/teacher-role/index'\nimport { renderDropdown } from './utils/render-dropdown'\n// 渲染主导航（应用、平台）\nexport const renderPrimaryNav = () => {\n  let element = document.querySelector('#ebgnav-primaryNavList')\n  if (!element) return false\n  const params = {\n    origin: 'renderArray',\n    element: 'ebgnav-primaryNavList',\n    renderName: 'renderPrimaryNavList',\n    identityList: (base.navbarConfig && base.navbarConfig.identityList) || [],\n    position: true\n  }\n  if (config.type === 'application') {\n    renderEbgNav(element, config.primaryNav.appNavList, params)\n  } else {\n    const { menus = [] } = base.navbarConfig || {}\n    // 根据id设置导航栏目高亮\n    getBrowseUrlIdActiveMenu(menus)\n    renderEbgNav(element, [...menus, ...base.platformNavList], params)\n    teacherRole(base.navbarConfig, base.hosturl)\n  }\n  if (!base.navRenderCompleted) {\n    // 首次渲染完导航后，触发navRenderCompleted钩子方法\n    base.navRenderCompleted = true\n    window.navRenderCompleted = 'navRenderCompleted'\n    window.ebgnavigation.emit('navRenderCompleted')\n  }\n}\n\nexport // 渲染应用二级副导航（应用二级导航）\nconst renderSecondaryNav = () => {\n  // 只有应用导航才需要渲染副导航\n  if (config.type !== 'application') return false\n  const secondaryNavDom = document.querySelector('.ebgnav-secondary')\n  if (\n    config.secondaryNav.secondaryName ||\n    config.secondaryNav.secondaryNavList.length > 0\n  ) {\n    displayElement(secondaryNavDom, 'block')\n  } else {\n    displayElement(secondaryNavDom, 'none')\n    return false\n  }\n  const element = document.querySelector('#ebgnav-secondaryNavList')\n  const params = {\n    origin: 'secondaryNav.secondaryNavList',\n    element: 'ebgnav-secondary-navlist',\n    renderName: 'renderSecondaryNavList',\n    position: true,\n    secondaryName: config.secondaryNav.secondaryName\n  }\n  renderEbgNav(element, config.secondaryNav.secondaryNavList, params)\n}\n\n/**\n * 渲染应用自定义入口\n */\nexport const renderSettingList = () => {\n  const settingDom = document.querySelector('.ebgnav-operation-setting')\n  if (!settingDom) return\n  if (config.operation && Array.isArray(config.operation.settingList)) {\n    if (!config.operation.settingList.length) {\n      displayElement(settingDom, 'hide')\n    } else {\n      displayElement(settingDom, 'block')\n    }\n    const params = {\n      origin: 'operation.settingList',\n      element: 'ebgnav-operation-setting',\n      renderName: 'renderSettingList'\n    }\n    commonRenderDropdown(\n      document.querySelector('#ebgnav-ebgnavSetting'),\n      config.operation.settingList,\n      params\n    )\n  } else {\n    settingDom && displayElement(settingDom, 'hide')\n  }\n}\n\n/**\n * 渲染应用副列表\n */\nexport const renderAppList = () => {\n  // 获取当前需要渲染的数据\n  let appList = config.primaryNav.appList || []\n  const ebgnavAppList = document.querySelector('#ebgnav-app-list')\n  if (!ebgnavAppList || config.type !== 'application') return false\n  ebgnavAppList.innerHTML = ''\n  if (appList.length === 0) {\n    displayElement(ebgnavAppList, 'none')\n  } else {\n    let currentName = ''\n    // 如果设置的数据为空数组，就隐藏当前dom\n    for (let i = 0; i < appList.length; i++) {\n      if (appList[i].current) {\n        currentName = appList[i].title\n        break\n      }\n    }\n    // currentName 如果没有获取到值，就默认取第一位name\n    if (!currentName && appList && appList.length) {\n      currentName = appList[0].title\n      appList[0].current = true\n    }\n    const html = renderApplicationNavbar(appList, currentName)\n    // 渲染副应用名称\n    ebgnavAppList && ebgnavAppList.insertAdjacentHTML('beforeend', html)\n    displayElement(ebgnavAppList, 'block')\n    if (appList && appList.length > 1) {\n      // 渲染应用副列表下拉菜单\n      renderAppListDropdownList()\n    } else if (appList && appList.length === 1) {\n      // app-list-btn\n      const data = appList[0] || {}\n      const app_list = document.querySelector('.ebgnav-app-list')\n      if (data.disabled === true) {\n        app_list && handleClass(app_list, 'add', 'disabled')\n      } else {\n        app_list && handleClass(app_list, 'remove', 'disabled')\n      }\n      const link = document.querySelector('#ebgnav-app-current-link-name')\n      link &&\n        link.addEventListener('click', (e) => {\n          e.stopPropagation()\n          commonNavEvent(data)\n        })\n    }\n  }\n}\n\nconst commonRenderDropdown = (element, list = [], params = {}) => {\n  if (!element || config.type !== 'application') return false\n  renderDropdown(element, list, params)\n}\n\n// 渲染应用副列表下拉菜单\nconst renderAppListDropdownList = () => {\n  const separatorUl = document.getElementById('ebgnav-app-list-separator-ul')\n  if (!separatorUl) return false\n  const params = {\n    origin: 'primaryNav.appList',\n    element: 'ebgnav-app-list',\n    renderName: 'renderAppListDropdownList'\n  }\n  commonRenderDropdown(separatorUl, config.primaryNav.appList, params)\n}\n\n/**\n * 渲染应用二级导航名称\n */\nexport const renderSecondaryName = () => {\n  if (config.type === 'application') {\n    const secondaryNavDom = document.querySelector('.ebgnav-secondary')\n    const secondaryName = document.querySelector('#ebgnav-secondaryName')\n    if (config.secondaryNav.secondaryNavList.length === 0) {\n      displayElement(secondaryNavDom, 'block')\n    }\n    if (\n      !config.secondaryNav.secondaryName &&\n      config.secondaryNav.secondaryNavList.length === 0\n    ) {\n      displayElement(secondaryNavDom, 'none')\n    } else {\n      if (\n        !(\n          (!!base.oldSecondaryName && !!config.secondaryNav.secondaryName) ||\n          (!base.oldSecondaryName && !config.secondaryNav.secondaryName)\n        )\n      ) {\n        // 左侧区域内容变化，需要重新渲染右侧的数据\n        renderSecondaryNav()\n      }\n      if (base.oldSecondaryName !== config.secondaryNav.secondaryName) {\n        base.oldSecondaryName = config.secondaryNav.secondaryName\n        secondaryName.innerHTML = templateRender(\n          tpl.secondaryNameTemp,\n          config.secondaryNav.secondaryName\n        )\n        if (config.secondaryNav.secondaryName) {\n          displayElement(secondaryName, 'block')\n        } else {\n          displayElement(secondaryName, 'none')\n        }\n      }\n    }\n  }\n}\n","// 导航整体框架模板\nconst getBaseTemplate = `\n<div class=\"ebgnav\" id=\"ebgnav-box\">\n  <div class=\"ebgnav-primary clearfix\">\n    <div class=\"ebgnav-logobox\" id=\"ebgnav-ebgnavLogobox\">\n      <div id=\"ebgnav-logo\" class=\"ebgnav-app-logo\"></div>\n      <div id=\"ebgnav-app-list\" class=\"ebgnav-app-list-container\" style=\"display:none;\"></div>\n    </div>\n    <div class=\"ebgnav-primary-navlist\">\n      <dl id=\"ebgnav-primaryNavList\" class=\"clearfix\">\n      </dl>\n    </div>\n    <div class=\"ebgnav-operation\">\n      <dl class=\"clearfix\">\n        <dd class=\"ebgnav-operation-setting\" id=\"ebgnav-operation-setting\" style=\"display: none\">\n          <a href=\"javascript:;\"><i class=\"ebginav inav-setting\"></i></a>\n          <dl class=\"children\" id=\"ebgnav-ebgnavSetting\">\n          </dl>\n        </dd>\n        <dd class=\"ebgnav-operation-appentry\" style=\"display: none\">\n          <a href=\"javascript:;\"><i class=\"ebginav inav-app-entry\"></i></a>\n          <div class=\"ebgnav-appentry-box\">\n            <div class=\"ebgnav-appentry-application\" id=\"ebgnav-isPlatform\">\n            </div>\n            <div class=\"ebgnav-appentry-search\" style=\"display:none;\">\n              <input type=\"text\" placeholder=\"查找应用\" class=\"search-keyword\">\n              <button class=\"search-button\"><i class=\"ebginav inav-search\"></i></button>\n            </div>\n            <div class=\"ebgnav-appentry-list\" id=\"ebgnav-defaultApplications\">\n            </div>\n            <div class=\"ebgnav-appentry-btnmore\">\n              <a id=\"show-search\" href=\"javascript:;\">更多应用</a>\n            </div>\n          </div>\n        </dd>\n        <dd class=\"ebgnav-operation-userinfo\">\n          <a href=\"javascript:;\" class=\"userinfo-link\" id=\"ebgnav-navUserinfo\">\n          </a>\n          <div class=\"ebgnav-userinfo-box\">\n            <div class=\"ebgnav-userinfo-userinfo\" id=\"ebgnav-detailUserinfo\" >\n            </div>\n            <dl class=\"ebgnav-userinfo-list ebgnav-userinfo-list-test\" id=\"user-setting-list\"></dl>\n            <div class=\"ebgnav-logout\">\n              <a class=\"logout-btn\" href=\"javascript:;\">退出登录</a>\n            </div>\n          </div>\n        </dd>\n        <dd class=\"ebgnav-operation-loginbtn\" style=\"display: none\"><a href=\"#\" class=\"ebg-button ebg-button--small ebg-button--primary\">欢迎登录</a></dd>\n      </dl>\n    </div>\n  </div>\n  <div class=\"ebgnav-secondary\">\n    <div class=\"ebgnav-secondary-warp clearfix\">\n      <div class=\"secondary-name\" id=\"ebgnav-secondaryName\"></div>\n      <div class=\"ebgnav-secondary-navlist\" id=\"ebgnav-secondary-navlist\">\n        <dl id=\"ebgnav-secondaryNavList\" class=\"clearfix\">\n        </dl>\n      </div>\n    </div>\n  </div>\n</div>`\n\n// 导航菜单列表中的更多模板\nconst getNavMoreTemplate = `\n<dd class=\"ebgnav-primaryNavList ebgnav-primaryNavList-more right ebg-nav-item\">\n  <a href=\"JavaScript:;\">更多<i class=\"ebginav inav-down\"></i></a>\n  <dl class=\"children more-children\"></dl>\n</dd>\n`\n\n// 导航菜单列表中的更多模板\nconst getSecMoreTemplate = `\n<dd class=\"ebgnav-secondaryNavList ebgnav-secondaryNavList-more right ebg-nav-item\">\n  <a href=\"JavaScript:;\">更多<i class=\"ebginav inav-down\"></i></a>\n  <dl class=\"children more-children\"></dl>\n</dd>\n`\n\n// 二级菜单名称模板\nconst getSecondaryNameTemplate = `\n<i class=\"ebginav inav-secondary-name\"></i><span><% this %></span>\n`\n// 平台logo区模板\nconst getPlatformLogoTemplate = `\n<a id=\"logo-event\" href=\"<% this.logoLink %>\" class=\"ebgnav-logo-a\" target=\"<% this.logoLinkTarget %>\">\n  <% if(this.logoSrc) { %>\n    <img id=\"ebgnavigationLogo\" class=\"ebgnav-logo-img\" src=\"<% this.logoSrc %>\">\n  <% } \n  if(this.name) { %>\n  <span class=\"ebgnav-logo-title text-ellipsis\" title=\"<% this.name %>\"><% this.name %></span>\n  <% } %>\n</a>\n`\n// 应用logo区模板\nconst getApplicationLogoTemplate = `\n<a id=\"logo-event\" href=\"<% this.logoLink %>\" target=\"<% this.logoLinkTarget %>\" class=\"ebgnav-app-logo-a\">\n  <span class=\"ebgnav-app-logo-span\"><img id=\"ebgnavigationLogo\" src=\"<% this.logoSrc %>\"></span>\n  <span class=\"ebgnav-app-name text-ellipsis\" title=\"<% this.appName %>\"><% this.appName %></span>\n</a>\n<% if(this.subtitle) { %>\n  <div class=\"ebgnav-app-subtitle text-ellipsis\" title=\"<% this.subtitle %>\"><% this.subtitle %></div>\n<% } %>\n`\n// 推荐应用带icon列表模板\nconst getAppIconListTemplate = `\n<dl class=\"clearfix\">\n  <% for(var i = 0; i < this.length; i++) { \n    var item = this[i];\n  %>\n  <dd><a href=\"<% item.url %>\" target=\"_blank\" title=\"<% item.appName %>\" data-appid=\"<% item.id %>\">\n    <span class=\"img-box\"><img src=\"<% item.src %>\"></span>\n    <p class=\"app-name text-ellipsis\"><% item.appName %></p>\n  </a></dd>\n  <%\n  }\n  %>\n</dl>\n`\n// 导航上用户信息模板\nconst getNavUserTemplate = `\n<span class=\"ebgnav-userface element-vertical\" id=\"ebgnav-hasNewMsg\">\n<img src=\"<% this.userPhoto %>\">\n</span>\n<span class=\"ebgnav-username\" data-userId=\"<% this.userId %>\"><% this.userName %></span>\n<span class=\"ebgnav-userdown\"><i class=\"ebginav inav-arrow-down\"></i></span>\n`\n// 用户详情中的用户信息模板\nconst getUserinfoTemplate = `\n<div class=\"user-avatar-box\">\n<img src=\"<% this.userPhoto %>\">\n</div>\n<div class=\"ebgnav-userinfo-username text-ellipsis\" title=\"<% this.userName %>\" data-userId=\"<% this.userId %>\"><% this.userName %></div>\n`\n\nexport default {\n  getBaseTemplate,\n  getNavMoreTemplate,\n  getSecMoreTemplate,\n  getSecondaryNameTemplate,\n  getPlatformLogoTemplate,\n  getApplicationLogoTemplate,\n  getAppIconListTemplate,\n  getNavUserTemplate,\n  getUserinfoTemplate\n}\n","import ajax from './http'\nimport $ebg from '../components/message'\nconst strAssert = (str) => {\n  return !(str == null || str.length < 1)\n}\nconst alertErrorIfStrEmpty = (str, errorMsg) => {\n  if (!strAssert(str)) {\n    $ebg.confirm({\n      title: '提示',\n      text: errorMsg,\n      confirm: '确定'\n    })\n    return false\n  }\n  return true\n}\n// 是否可以进入应用\nconst appEnterable = (storeAppid, hosturl, apiUrl, callback) => {\n  // 0 敏感数据授权\n  let enable = false\n  ajax({\n    type: 'GET',\n    url: hosturl + apiUrl.appEnterable,\n    jsonp: 'jsonp',\n    async: false, // 同步\n    data: { appId: storeAppid },\n    success: function (result) {\n      if (result['success'] === true) {\n        let data = result['data']\n        if (data['enable'] === false) {\n          // 因敏感数据授权缺失，应用不可访问\n          let msg = ''\n          if (data['isAdmin'] === true) {\n            msg =\n              '应用数据权限发生变化，为了保护学校的数据安全，该应用暂时停止访问，请到应用管理-已添加应用-数据权限管理中进行应用数据权限审核。'\n          } else {\n            msg =\n              '应用数据权限发生变化，为了保护学校的数据安全，该应用暂时停止访问，需要学校管理员审核后才能正常使用，如需使用请联系学校管理员。'\n          }\n          $ebg.confirm({\n            title: '提示',\n            text: msg,\n            confirm: '确定'\n          })\n        } else {\n          enable = true\n        }\n        if (callback) {\n          callback()\n        }\n      } else {\n        $ebg.confirm({\n          title: '提示',\n          text: result['msg'],\n          confirm: '确定'\n        })\n      }\n    },\n    error: function () {}\n  })\n\n  return enable\n}\n// 实现对前端字符串进行GET编码的函数\nfunction appEncodeURL(s) {\n  var reg = /^[\\u0391-\\uFFE5%]+$/\n  var urlLength = s.length\n  var newS = ''\n  for (let i = 0; i < urlLength; i++) {\n    if (reg.test(s.charAt(i))) {\n      newS += escape(s.charAt(i))\n    } else {\n      newS += s.charAt(i)\n    }\n  }\n  if (newS.indexOf('_app_encoding_tag_=') === -1) {\n    if (newS.indexOf('?') >= 0) {\n      newS = newS + '&_app_encoding_tag_=1'\n    } else {\n      newS = newS + '?_app_encoding_tag_=1'\n    }\n  }\n  return encodeURI(newS)\n}\n\nconst appClick = (data) => {\n  if (!alertErrorIfStrEmpty(data.url, '应用正在紧张开发中')) return\n  if (!alertErrorIfStrEmpty(data.name, '应用名称错误')) return\n  if (!alertErrorIfStrEmpty(data.id, '应用标识错误')) return\n  if (!alertErrorIfStrEmpty(data.target, '跳转方式错误')) return\n  ajax({\n    url: data.hosturl + data.apiUrl.appStatus,\n    type: 'post',\n    // async: false, //使用同步的方式,true为异步方式\n    data: { appId: data.id }, // 这里使用json对象\n    jsonp: 'jsonp', // jsonp\n    success: function (res) {\n      if (res['code']) {\n        $ebg.confirm({\n          title: '提示',\n          text: res['code'] !== '-5101' ? res['msg'] : '应用未授权,请联系管理员',\n          confirm: '确定'\n        })\n        return\n      }\n      if (res['expired'] === 1) {\n        // layer.alert('此应用已过期,请联系管理员');\n        $ebg.confirm({\n          title: '提示',\n          text: '此应用已过期,请联系管理员',\n          confirm: '确定'\n        })\n        return\n      }\n      // 3) 如果URL不是/开头，则表示第三方应用，判断是否有http:如果没有，则拼接上。\n      let isThirdApp = data.url.indexOf('/') !== 0\n      if (isThirdApp) {\n        if (!/^http(s)?/gi.test(data.url)) {\n          data.url = 'http://' + data.url\n        }\n\n        // 0 敏感数据授权\n        appEnterable(data.id, data.hosturl, data.apiUrl, function () {\n          // 1) 获取url，如果没有url，表示应用正在紧张开发中。\n          if (!data.url) {\n            // layer.alert('应用正在紧张开发中');\n            $ebg.confirm({\n              title: '提示',\n              text: '应用正在紧张开发中',\n              confirm: '确定'\n            })\n            return\n          }\n\n          // appClickCollectorLog($this);\n\n          let windowOpen = window.open(data.url, data.target)\n          if (windowOpen === null || typeof windowOpen === 'undefined') {\n            $ebg.confirm({\n              title: '提示',\n              text: '弹窗被浏览器拦截，请设置浏览器权限',\n              eventType: 'hideTips',\n              btnMsg: '确定'\n            })\n          }\n        })\n        return\n      }\n\n      // 是否是append-param\n      if (data.appendParam) {\n        data.url = '/app/getInto.do?url=' + encodeURIComponent(data.url)\n        data.url += '&appendParams=' + data.appendParam\n        window.open(data.url, data.target)\n        return\n      }\n\n      // 4）内部应用跳转需要拼接参数，需要判断应用地址中是否存在参数appendText2Param=false，如果存在则去掉，否则拼接如下内容：\n      //   '&_app_encoding_tag_=1&text=' + text + '\n      if (data.url.indexOf('&appendText2Param=false') > 0) {\n        data.url = data.url.replace('&appendText2Param=false', '')\n      } else {\n        if (data.url.indexOf('?') === -1) {\n          data.url =\n            data.url +\n            appEncodeURL(\n              '?_app_encoding_tag_=1&text=' +\n                data.name +\n                '&__time__=' +\n                new Date().getTime()\n            )\n        } else {\n          data.url =\n            data.url +\n            appEncodeURL(\n              '&_app_encoding_tag_=1&text=' +\n                data.name +\n                '&__time__=' +\n                new Date().getTime()\n            )\n        }\n      }\n\n      window.open(data.url, data.target)\n    }\n  })\n}\n\nexport { appClick }\n","function ajax(params) {\n  params = params || {}\n  params.data = params.data || {}\n\n  // 获取随机数\n  function random() {\n    return Math.floor(Math.random() * 10000 + 500)\n  }\n\n  // 格式化参数\n  function formatParams(data) {\n    var arr = []\n\n    for (let name in data) {\n      // encodeURIComponent() ：用于对 URI 中的某一部分进行编码\n      arr.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]))\n    }\n    // 添加一个随机数参数，防止缓存\n    arr.push('v=' + random())\n    return arr.join('&')\n  }\n\n  // ajax请求\n  function json(params) {\n    // 请求方式，默认是GET\n    params.type = (params.type || 'GET').toUpperCase()\n    // 避免有特殊字符，必须格式化传输数据\n    params.data = formatParams(params.data)\n    let xhr = null\n\n    // 实例化XMLHttpRequest对象\n    if (window.XMLHttpRequest) {\n      xhr = new XMLHttpRequest()\n    } else {\n      // IE6及其以下版本\n      // eslint-disable-next-line no-undef\n      xhr = new ActiveXObjcet('Microsoft.XMLHTTP')\n    }\n\n    // 监听事件，只要 readyState 的值变化，就会调用 readystatechange 事件\n    xhr.onreadystatechange = function () {\n      // readyState属性表示请求/响应过程的当前活动阶段，4为完成，已经接收到全部响应数据\n      if (xhr.readyState === 4) {\n        let status = xhr.status\n        // status：响应的HTTP状态码，以2开头的都是成功\n\n        if (status >= 200 && status < 300) {\n          let response = ''\n          // 判断接受数据的内容类型\n          let type = xhr.getResponseHeader('Content-type')\n\n          if (type.indexOf('xml') !== -1 && xhr.responseXML) {\n            response = xhr.responseXML // Document对象响应\n          } else if (type === 'application/json') {\n            response = JSON.parse(xhr.responseText) // JSON响应\n          } else {\n            response = xhr.responseText // 字符串响应\n          }\n          // 成功回调函数\n          params.success && params.success(response)\n        } else {\n          params.error && params.error(status)\n        }\n      }\n    }\n\n    // 连接和传输数据\n    if (params.type === 'GET') {\n      // 三个参数：请求方式、请求地址(get方式时，传输数据是加在地址后的)、是否异步请求(同步请求的情况极少)；\n      xhr.open(params.type, params.url + '?' + params.data, true)\n      xhr.send(null)\n    } else {\n      xhr.open(params.type, params.url, true)\n      // 必须，设置提交时的内容类型\n      xhr.setRequestHeader(\n        'Content-Type',\n        'application/x-www-form-urlencoded; charset=UTF-8'\n      )\n      // 传输数据\n      xhr.send(params.data)\n    }\n  }\n\n  // jsonp请求\n  function jsonp(params) {\n    // 创建script标签并加入到页面中\n    var callbackName = params.jsonp\n    var head = document.getElementsByTagName('head')[0]\n    // 设置传递给后台的回调参数名\n\n    params.data['callback'] = callbackName\n    let data = formatParams(params.data)\n    let script = document.createElement('script')\n    // let responseData\n\n    head.appendChild(script)\n\n    // 创建jsonp回调函数\n    window[callbackName] = function (json) {\n      head.removeChild(script)\n      clearTimeout(script.timer)\n      window[callbackName] = null\n      // responseData = json\n      params.success && params.success(json)\n    }\n\n    // 发送请求\n    script.src = params.url + '?' + data\n    // 给script元素添加load和error事件\n\n    document.addEventListener(\n      'error',\n      function (event) {\n        if (event) {\n          let target = event.target\n\n          if (target === script) {\n            script.timer && clearTimeout(script.timer)\n            params.error &&\n              params.error(\n                Object.assign(\n                  {\n                    message: 'js加载出错'\n                  },\n                  params\n                )\n              )\n          }\n        }\n      },\n      true\n    )\n\n    // 为了得知此次请求是否成功，设置超时处理\n    if (params.time) {\n      script.timer = setTimeout(function () {\n        window[callbackName] = null\n        head.removeChild(script)\n        params.error &&\n          params.error({\n            message: '超时'\n          })\n      }, params.time)\n    }\n  }\n  // 判断是ajax请求还是jsonp请求\n  params.jsonp ? jsonp(params) : json(params)\n}\n\nexport default ajax\n","// 默认头像\nconst avatar = 'data:image/png;base64,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'\n// 暂无数据\nconst noData = 'data:image/png;base64,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'\n// 默认应用图片\nconst defaultAppImg = 'data:image/png;base64,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'\nexport {\n  avatar,\n  noData,\n  defaultAppImg\n}\n","import ajax from './http'\nconst createJsonpLogout = (url, callback) => {\n  ajax({\n    url: url,\n    type: 'GET',\n    dataType: 'jsonp',\n    jsonp: 'callback',\n    crossDomain: true,\n    cache: false,\n    success: function (html) {\n      if (typeof callback === 'function') {\n        callback()\n      }\n    },\n    error: function (data) {\n      if (typeof callback === 'function') {\n        callback()\n      }\n    }\n  })\n}\nconst desktop_logout = function (__logoutUrl) {\n  let logoutUrls = __logoutUrl.split(';')\n  for (let i = 0; i < logoutUrls.length; i++) {\n    logoutUrls[i] = logoutUrls[i].replace('http://', 'https://')\n  }\n  let clearCookieUrl = logoutUrls.shift() // 清除cookie的地址\n  let redirectUrl = logoutUrls.pop() // logoutUrls[logoutUrls.length - 1] // 后端接口最后一个默认为区平台地址\n\n  createJsonpLogout(clearCookieUrl, function () {\n    logoutUrls.forEach(logoutUrl => {\n      createJsonpLogout(logoutUrl)\n    })\n    window.ebgnavigation.emit('logout')\n    setTimeout(() => {\n      window.location.href = redirectUrl\n    }, 1000)\n  })\n}\n\nconst bindLogout = (url) => {\n  desktop_logout(url)\n}\n\nexport {\n  bindLogout\n}\n","import ajax from './http'\n// import loadOldNav from '../oldNav'\n\nconst getCookie = (key) => {\n  let cks = document.cookie.split('; ')\n\n  for (let i = 0; i < cks.length; i++) {\n    let kv = cks[i].split('=')\n\n    if (kv[0] === key) return kv[1]\n  }\n  return ''\n}\n\nconst getJsonpHostInScript = (src) => {\n  let reg =\n    /^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/\n  let matches = src.match(reg)\n  let url\n\n  if (matches && matches[1]) {\n    url = matches[1] + '://' + matches[3]\n    if (matches[4] && matches[4] !== '80') {\n      url = url + ':' + matches[4]\n    }\n  } else {\n    url = window.location.protocol + '//' + window.location.host\n    if (window.location.port) {\n      url = url + ':' + window.location.port\n    }\n  }\n  return url\n}\n\nconst getCurrentScript = () => {\n  if (document.currentScript && document.currentScript.src) {\n    let script = document.currentScript\n\n    if (script.readyState === 'interactive') {\n      return script\n    }\n    // 获取到当前页面导航的Url地址\n    if (\n      script.src &&\n      (script.src.indexOf('ebgnavigation.js') !== -1 ||\n        script.src.indexOf('ebgnavigation.min.js') !== -1) &&\n      script.src.indexOf('http') === 0\n    ) {\n      return script\n    }\n  }\n\n  // For IE6-9 browsers, the script onload event may not fire right\n  // after the script is evaluated. Kris Zyp found that it\n  // could query the script nodes and the one that is in \"interactive\"\n  // mode indicates the current script\n  // ref: http://goo.gl/JHfFW\n  let scripts = document.getElementsByTagName('script')\n\n  for (let i = scripts.length - 1; i >= 0; i--) {\n    let script = scripts[i]\n\n    if (script.readyState === 'interactive') {\n      let interactiveScript = script\n\n      return interactiveScript\n    }\n    if (\n      script.src &&\n      (script.src.indexOf('ebgnavigation.js') !== -1 ||\n        script.src.indexOf('ebgnavigation.min.js') !== -1) &&\n      script.src.indexOf('http') === 0\n    ) {\n      return script\n    }\n  }\n  return null\n}\n// 根据script的URL地址获取其host\nconst getJsonpHost = (src, tarDomain, callback) => {\n  const callbackName = 'jsonpCallbackoperInCloud' + new Date().getTime()\n  window[callbackName] = function () {}\n  // 先从cookie中取\n  let serverUrl = getCookie('ecsDesktopServer')\n  // TODO 提交的时候不要带上去，仅仅调试的时候使用\n  // serverUrl = 'https://ahshfsjjkfq.ecstest.ledc.changyan.cn'\n  if (serverUrl !== '') {\n    serverUrl = decodeURIComponent(serverUrl)\n    if (callback) callback(serverUrl)\n  } else {\n    // 从cookie中取不到，则向本一级导航栏所在域名申请获取\n    serverUrl = getJsonpHostInScript(src)\n    // 这里要改成https\n    let url =\n      (tarDomain === undefined || tarDomain == null || tarDomain.length < 1\n        ? serverUrl\n        : tarDomain) + '/desktop/backend/login/operInCloud.do'\n    // 强制使用https访问\n    if (url) {\n      url = url.replace('http://', 'https://')\n    }\n    ajax({\n      type: 'GET',\n      jsonp: callbackName,\n      url: url,\n      data: { getDesktopServer: true },\n      success: (ret) => {\n        let data = ret['data']\n        let redirDomain = ''\n\n        if (data != null && data['redirDomain'] != null) {\n          redirDomain = data['redirDomain']\n        } // 需要向云平台获取\n\n        if (redirDomain.length > 0) {\n          // 向云平台获取\n          getJsonpHost(src, redirDomain, (url) => {\n            if (url != null && url.length > 0) serverUrl = url\n            else serverUrl = getJsonpHostInScript(src) // 取不到，则返回默认的\n            if (callback) callback(serverUrl)\n          })\n        } else {\n          // 已经获取到，返回即可\n          if (callback) callback(data)\n        }\n      },\n      error: (err) => {\n        if (callback) callback('')\n        console.log('getJsonpHost error res', err)\n      }\n    })\n  }\n}\n\nconst reloadNav = (config, navbarData, url) => {\n  let oldJSUrl = ''\n  const oldNav = getCurrentScript()\n  if (oldNav) {\n    oldJSUrl = oldNav.src || ''\n    const parentNode = oldNav.parentNode\n    parentNode && parentNode.removeChild(oldNav)\n  }\n  let script = document.createElement('script')\n  const newUrl =\n    oldJSUrl && oldJSUrl.indexOf('min') !== -1\n      ? 'ebgnavigation.min.js'\n      : 'ebgnavigation.js'\n  script.src = `${url}/ebgnavigation/${newUrl}`\n  // script.src = `${url}/ebgnavigation/ebgnavigation.js`\n  document.body.insertAdjacentElement('afterbegin', script)\n  script.onload = () => {\n    window.ebgnavigation.init(config, navbarData)\n    return false\n  }\n}\n\nexport {\n  getJsonpHost,\n  getCookie,\n  reloadNav,\n  getCurrentScript,\n  getJsonpHostInScript\n}\n","import { renderNavbarDom, traverseDomArr } from './utils'\nconst renderDropdown = (element, list = [], params) => {\n  element.innerHTML = ''\n  element.insertAdjacentHTML('beforeend', renderNavbarDom(list, params))\n  traverseDomArr(element)\n}\nexport {\n  renderDropdown\n}\n","import { renderNavbarDom, templateFilter, traverseDomArr } from '../utils/utils'\nimport { getNavMoreTemplate } from '../template'\n/**\n * @param {Element} element 渲染元素\n * @param {Array} navList 需要渲染的菜单数据\n * @param {Object} renderParams 渲染菜单配置数据\n */\nlet canvas, menuWidth, navList, windowWidth\n\nconst renderEbgNav = (element, NavList = [], renderParams = {}) => {\n  if (!element) return false\n  navList = NavList\n  const logoWidth = getLogoWidth('#ebgnav-ebgnavLogobox')\n  element.innerHTML = ''\n  windowWidth =\n    document.body.clientWidth || document.documentElement.clientWidth\n  console.log('operation', getLogoWidth('.ebgnav-operation'))\n  // 1. 获取菜单可渲染区域宽度\n  if (renderParams.element === 'ebgnav-primaryNavList') {\n    // 获取主导航菜单渲染宽度\n    menuWidth = windowWidth - logoWidth - 280\n  } else {\n    // 获取应用副导航渲染区域\n    let secondaryNameWidth = 0\n    if (renderParams.secondaryName) {\n      secondaryNameWidth = 200\n    }\n    menuWidth = windowWidth - secondaryNameWidth\n  }\n  // 1. 获取菜单可渲染区域宽度\n  // 2. 计算当前菜单列表总宽度\n  // 3. 菜单宽度 > 渲染宽度，需要渲染 ‘更多’\n  const index = isMore(navList)\n  if (index !== false) {\n    renderMore(element, navList, index, renderParams)\n  } else {\n    const html = render(navList, renderParams)\n    element.insertAdjacentHTML('afterbegin', html)\n    traverseDomArr(element)\n  }\n  // 4. 剩余\n}\n\nconst render = (list, renderParams) => {\n  return renderNavbarDom(list, renderParams)\n}\n\n// 渲染带 更多 的导航菜单\nconst renderMore = (element, list, index, renderParams) => {\n  if (!element) return false\n  element.insertAdjacentHTML(\n    'afterbegin',\n    render(list.slice(0, index), renderParams)\n  )\n\n  // 插入更多\n  element.insertAdjacentHTML('beforeend', templateFilter(getNavMoreTemplate))\n  const moreUl = element.querySelector('.more-children')\n  renderParams.more = true\n  moreUl.insertAdjacentHTML(\n    'beforeend',\n    render(list.slice(index), renderParams)\n  )\n  traverseDomArr(element)\n}\n\n// 判断不前菜单是事需要渲染更多\nconst isMore = (list) => {\n  // let index = 0,\n  let count = 100\n  for (let i = 0; i < list.length; i++) {\n    count += getTextWith(list[i].title) + 48\n    if (menuWidth <= count) {\n      return i\n    }\n  }\n  return false\n}\n\n// 获取当前菜单实际渲染的px宽度，如果这个宽度大于菜单可渲染的宽度，这个时候需要渲染 更多，将剩余的菜单放到更多里，以下拉列表形式展现\nconst getTextWith = (text, fontStyle = '14px/1.6 \"Microsoft Yahei\"') => {\n  canvas = canvas || document.createElement('canvas')\n  const context = canvas.getContext('2d')\n  context.font = fontStyle\n  return context.measureText(text).width\n}\n// 获取导航实现菜单可渲染宽度\nfunction getLogoWidth(element) {\n  const ebgnavLogobox = document.querySelector(element)\n  const w = ebgnavLogobox ? ebgnavLogobox.offsetWidth : 200\n  // 555 是logo最大支持宽度，ie浏览器在会存在获取logo宽度异常\n  return w > 555 ? 555 : w // 解决IE兼容问题\n}\n\nexport { renderEbgNav }\n","/**\n * 防抖\n * @param {*} operate 操作\n * @param {*} delay 延时\n */\nexport const debounce = (fn, delay = 1000) => {\n  let timer\n\n  // 返回一个函数，这个函数会在一个时间区间结束后的 delay 毫秒时执行 func 函数\n  return function () {\n    // 保存函数调用时的上下文和参数，传递给func\n    const context = this\n    const args = arguments\n\n    // 函数被调用，清除定时器\n    clearTimeout(timer)\n\n    // 当返回的函数被最后一次调用后（也就是用户停止了某个连续的操作），\n    // 再过 delay 毫秒就执行 func\n    timer = setTimeout(function () {\n      fn.apply(context, args)\n    }, delay)\n  }\n}\n","import { workbenchEvent } from '../components/teacher-role/index'\n/**\n * 简易Xss过滤\n * @param {*} str 被过滤的字符串\n */\n// const easyXss = str => {\n//   var lt = /</g\n//   var gt = />/g\n//   var ap = /'/g\n//   var ic = /\"/g\n\n//   return str\n//     .replace(lt, '&lt;')\n//     .replace(gt, '&gt;')\n//     .replace(ap, '&#39;')\n//     .replace(ic, '&#34;')\n// }\n\n/**\n * 模板过滤\n * @param {*} template 模板字符串\n * @param {*} data 数据\n */\nconst templateFilter = (template) => {\n  let tmp = template\n\n  // 过滤换行\n  tmp = tmp.replace(/\\r|\\n/g, '')\n\n  // 过滤连续空格\n  tmp = tmp.replace(/\\s+/g, ' ')\n\n  // 过滤标签间的空格\n  tmp = tmp.replace(/\\>\\s+\\</g, '><')\n\n  return tmp\n}\nString.prototype.replaceAll = function (s1, s2) {\n  return this.replace(new RegExp(s1, 'gm'), s2)\n}\n/**\n *处理单引号双引号\n * @param {*} appList 是我们菜单的列表\n */\nfunction formatParams(appList) {\n  let type = appList.type\n  let currentName = appList.currentName\n  let newData = JSON.parse(JSON.stringify(appList))\n\n  delete newData.type\n  delete newData.currentName\n  let list = newData\n  // renderAppList渲染的时候带的参数不是传递过来的数组，特殊处理\n  let specialFlag = false\n\n  if (newData.appList) {\n    list = newData.appList\n    specialFlag = true\n  }\n  list.forEach((item) => {\n    let parentJson = item.params\n    if (!!parentJson && parentJson.length > 0) {\n      item.params = parentJson.replaceAll('\"', \"'\")\n    }\n    if (item.children && item.children.length > 0) {\n      item.children.forEach((cItem) => {\n        let childrenJSonParam = cItem.params\n\n        if (!!childrenJSonParam && childrenJSonParam.length > 0) {\n          cItem.params = childrenJSonParam.replaceAll('\"', \"'\")\n        }\n      })\n    }\n  })\n  if (specialFlag) {\n    return { appList: list, type, currentName }\n  }\n  if (type) {\n    list.type = type\n  }\n  if (currentName) {\n    list.currentName = currentName\n  }\n  return list\n}\n\n/**\n * 模板渲染\n * @param {*} tpl 模板\n * @param {*} data 数据\n */\nconst templateRender = (tpl, data, type) => {\n  let reg = /<%([^%>]+)?%>/g,\n    regOut = /(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,\n    code = 'var r=[];\\n',\n    cursor = 0\n\n  let add = function (line, js) {\n    js\n      ? (code += line.match(regOut) ? line + '\\n' : 'r.push(' + line + ');\\n')\n      : (code +=\n          line !== '' ? 'r.push(\"' + line.replace(/\"/g, '\\\\\"') + '\");\\n' : '')\n    return add\n  }\n\n  let match = null\n\n  while ((match = reg.exec(tpl))) {\n    add(tpl.slice(cursor, match.index))(match[1], true)\n    cursor = match.index + match[0].length\n  }\n  add(tpl.substr(cursor, tpl.length - cursor))\n  code += 'return r.join(\"\");'\n  if (type > 0) {\n    data.type = type\n  }\n  let newData = data\n\n  if (data && data.type > 0) {\n    newData = formatParams(data)\n  }\n  // eslint-disable-next-line no-new-func\n  return new Function(code.replace(/[\\r\\t\\n]/g, '')).apply(newData)\n}\n\nconst poll = (node, callback) => {\n  if (callback.isCalled) {\n    return\n  }\n\n  let isLoaded = false\n\n  if (/webkit/i.test(navigator.userAgent)) {\n    // webkit\n    if (node['sheet']) {\n      isLoaded = true\n    }\n  } else if (node['sheet']) {\n    // for Firefox\n    try {\n      // node['sheet'].cssRules\n      if (node['sheet']) {\n        isLoaded = true\n      }\n    } catch (ex) {\n      // NS_ERROR_DOM_SECURITY_ERR\n      if (ex.code === 1000) {\n        isLoaded = true\n      }\n    }\n  }\n\n  if (isLoaded) {\n    // give time to render.\n    setTimeout(function () {\n      callback()\n    }, 1)\n  } else {\n    setTimeout(function () {\n      poll(node, callback)\n    }, 1)\n  }\n}\n\nconst styleOnload = (node, callback) => {\n  // for IE6-9 and Opera\n  if (node.attachEvent) {\n    // NOTICE:\n    // 1. \"onload\" will be fired in IE6-9 when the file is 404, but in\n    // this situation, Opera does nothing, so fallback to timeout.\n    // 2. \"onerror\" doesn't fire in any browsers!\n    node.attachEvent('onload', callback)\n  } else {\n    // polling for Firefox, Chrome, Safari\n    setTimeout(function () {\n      poll(node, callback)\n    }, 0) // for cache\n  }\n}\n\n/**\n * 动态插入css链接到页面中\n * @param {*} url css链接地址\n */\nconst loadStyle = (url, cb) => {\n  let link = document.createElement('link')\n  let head = document.getElementsByTagName('head')[0]\n\n  link.type = 'text/css'\n  link.rel = 'stylesheet'\n  link.href = url\n\n  head.appendChild(link)\n  styleOnload(link, () => {\n    if (typeof cb === 'function') {\n      cb(true)\n    }\n  })\n}\n\n/**\n * 通过id,class,tagname获取对应得元素\n * @param {*} str 名称#abc/.abc/div\n */\nconst $ = (str) => {\n  let fstr = str.substr(0, 1)\n\n  switch (fstr) {\n    case '#':\n      return document.getElementById(str.substr(1))\n    case '.':\n      return document.getElementsByClassName(str.substr(1))\n    default:\n      return document.getElementsByTagName(str)\n  }\n}\n\n/**\n * 指定元素添加\\删除\\修改样式名称\n * @param {*} element 元素节点\n * @param {*} type 类型\n * @param {*} className 新样式名称\n * @param {*} oldClassName  被删除样式名称\n */\nconst handleClass = (element, type, className, oldClassName) => {\n  if (!element) return false\n  let classVal = element && element.getAttribute('class')\n  // if (!classVal) return false\n  if (classVal === undefined || classVal === null) {\n    element.setAttribute('class', '')\n    classVal = ''\n  }\n  if (type === 'delete') {\n    // 删除\n    classVal = classVal.replace(className, '')\n  } else if (type === 'add') {\n    // 增加\n    classVal = classVal.concat(' ' + className)\n  } else {\n    // 替换\n    classVal = classVal.replace(oldClassName, className)\n  }\n  element.setAttribute('class', classVal)\n}\n\nconst getHostUrl = () => {\n  let _hosturl = window.location.protocol + '//' + window.location.host\n\n  if (window.location.port) {\n    _hosturl = _hosturl + ':' + window.location.port\n  }\n\n  return _hosturl\n}\n\n/**\n * 显示或者隐藏元素\n */\nconst displayElement = (element, type = 'none') => {\n  if (!element) return false\n  if (element.nodeType === 1) {\n    element.style.display = type\n  } else {\n    document.querySelector(element).style.display = type\n  }\n}\n\nconst getCookie = (key) => {\n  let cks = document.cookie.split('; ')\n\n  for (let i = 0; i < cks.length; i++) {\n    let kv = cks[i].split('=')\n\n    if (kv[0] === key) return kv[1]\n  }\n  return ''\n}\n\nconst setCookie = (\n  key,\n  value,\n  domain = window.location.host,\n  path = window.location.pathname\n) => {\n  let text = ''\n  if (!key || !value) return\n  text += `${key}=${value}`\n  if (domain) {\n    const [name, yu] = domain.split('.').slice(-2)\n    text += `; domain=${name}.${yu}`\n  }\n  if (path) {\n    let newPath = ``\n    if (path.length <= 1) {\n      newPath = '/'\n    } else {\n      // /desktop/backend/indexPage/v8/index  取 /desktop\n      newPath = `/${path.split('/')[1]}`\n    }\n    text += `; path=${newPath}`\n  }\n\n  document.cookie = text\n}\n\n/**\n * 加载js工具代码\n * noRenderJs 是否渲染js到html中\n * */\nfunction loadScript(url, callback, noRenderJs = false) {\n  if (noRenderJs) {\n    callback(true)\n    return\n  }\n  let script = document.createElement('script'),\n    fn = callback || function () {}\n  script.type = 'text/javascript'\n  // IE\n  if (script.readyState) {\n    script.onreadystatechange = function () {\n      if (script.readyState === 'loaded' || script.readyState === 'complete') {\n        script.onreadystatechange = null\n        fn()\n      }\n    }\n  } else {\n    // 其他浏览器\n    script.onload = function () {\n      fn()\n    }\n  }\n  script.src = url\n  document.getElementsByTagName('head')[0].appendChild(script)\n}\n\n/**\n * 删除需要替换的class\n * @param {*} clsName\n */\nconst deleteDomByClassName = (clsName) => {\n  let paras = document.getElementsByClassName(clsName)\n\n  for (let i = 0; i < paras.length; i++) {\n    // 删除元素 元素.parentNode.removeChild(元素);\n    if (paras[i] != null) {\n      paras[i].parentNode.removeChild(paras[i])\n    }\n  }\n}\n/**\n * 删除需要替换的class\n * @param {*} clsName\n */\nconst clearInnerHtmlById = (id) => {\n  let paras = document.getElementById(id)\n  paras && (paras.innerHTML = '') // 清空\n}\n\n// 删除元素\n/**\n * 删除元素\n * @param {*} _element 被删除的元素\n */\nconst removeElement = (_element) => {\n  if (!_element) return false\n  const _parentElement = _element.parentNode\n  if (_parentElement) {\n    _parentElement.removeChild(_element)\n  }\n}\n\n// 数组去重\nconst arrUnique = (arr) => {\n  let obj = {}\n  let res = []\n  arr.map((item) => {\n    if (!obj[item.title]) {\n      res.push(item)\n      obj[item.title] = item.title\n    }\n  })\n  return res\n}\n\n// 渲染主导航（解决ie浏览器兼容性问题）\nconst renderNavbarDom = (data = [], dataInfo = {}) => {\n  let dom = '',\n    fromIndex = 0\n  if (dataInfo.position) {\n    // 主导航渲染\n    fromIndex = Math.floor(data.length / 2)\n  }\n  data.forEach((item, index) => {\n    dom += renderDropdownList(item, index, dataInfo, fromIndex, data.length)\n  })\n  return dom\n}\n\nconst getWorkbenchClassName = (identityList = []) => {\n  let res = ''\n  if (Array.isArray(identityList) && identityList.length >= 2) {\n    res = 'has-data'\n  }\n  return res\n}\n\n// 渲染有二级菜单和无二菜单的dom\nconst renderDropdownList = (item = [], index, dataInfo = {}, fromIndex) => {\n  let name = item.name || item.title,\n    className = '',\n    direction\n  // let dom\n  item.origin = dataInfo.origin || ''\n  item.renderName = dataInfo.renderName || ''\n  item.element = dataInfo.element\n  item.index = index\n  item.current && (className += 'current ')\n  dataInfo.isHasChildren = item.children && item.children.length\n  dataInfo.isHasChildren && (className += 'has-ul ')\n  if (dataInfo.element === 'ebgnav-app-list') {\n    // debugger\n  }\n  if ((fromIndex && fromIndex < item.index) || dataInfo.more) {\n    className += 'right'\n    direction = true\n  } else {\n    className += 'left'\n  }\n  if (item.menuKey === 'workbench') {\n    className += ` ${getWorkbenchClassName(dataInfo.identityList)}`\n  }\n  // 获取不同模块的下拉子菜单箭头（模块箭头朝向不同）\n  const arrow = arrowType(dataInfo)\n  return `<dd class=\"ebg-nav-item ${className}\" hasChildrenModules=\"${\n    item.hasChildrenModules\n  }\" index=\"${index}\" fromIndex=\"${fromIndex}\" id=\"ebg-nav-${\n    item.menuKey || index\n  }\">\n          <a class=\"text-ellipsis\" href=\"javascript:;\" title=\"${name}\" index=\"${fromIndex}\">\n            ${name}\n            ${arrow}\n          </a>\n          <span class=\"custom_navbar__content_data\" style=\"display:none\">${JSON.stringify(\n            item\n          )}</span>\n          ${renderApplicationNavbarUlList(item, index, dataInfo, direction)}\n          </dd>\n        `\n}\nconst arrowType = (dataInfo) => {\n  let arrowHtml = ''\n  if (!dataInfo.isHasChildren) return ''\n  if (dataInfo.more) {\n    // 导航 “更多”下拉模块\n    arrowHtml = '<i class=\"ebginav inav-user-left\"></i>'\n  } else if (dataInfo.element === 'ebgnav-app-list') {\n    arrowHtml = '<i class=\"ebginav inav-user-right\"></i>'\n  } else if (dataInfo.element === 'ebgnav-operation-setting') {\n    arrowHtml = '<i class=\"ebginav inav-user-left\"></i>'\n  } else {\n    arrowHtml = '<i class=\"ebginav inav-down\"></i>'\n  }\n  return arrowHtml\n}\nconst renderApplicationNavbarUlList = (\n  appList,\n  parentIndex,\n  dataInfo = {},\n  direction\n) => {\n  if (!Array.isArray(appList.children)) return ''\n  let resDom = ''\n  const data = appList.children\n  data &&\n    data.forEach((item, index) => {\n      item.origin = dataInfo.origin || ''\n      item.renderName = dataInfo.renderName || ''\n      item.parentIndex = parentIndex\n      item.element = dataInfo.element\n      item.more = dataInfo.more\n      item.index = index\n      const hasChildren = item.children && item.children.length,\n        arrow = direction\n          ? `<i class=\"ebginav inav-user-left\"></i>`\n          : `<i class=\"ebginav inav-user-right\"></i>`\n      if (item) {\n        resDom += `<dd\n                class=\"ebg-nav-item ${item.current ? 'current' : ''} ${\n          hasChildren ? ' has-ul' : ''\n        }\"\n                index=\"${index}\"\n              >\n                <a class=\"text-ellipsis\" title=\"${\n                  item.title\n                }\" href=\"javascript:;\">\n                  ${item.title}\n                  ${hasChildren ? arrow : ''}\n                </a>\n                <span class=\"custom_navbar__content_data\" style=\"display:none\">${JSON.stringify(\n                  item\n                )}</span>\n                ${renderApplicationNavbarUlList(\n                  item,\n                  item.index,\n                  dataInfo,\n                  direction\n                )}\n              </dd>`\n      }\n    })\n  return resDom\n    ? `<dl class=\"children has-children\" index=\"${parentIndex}\">${resDom}</dl>`\n    : ''\n}\n\n// 渲染application应用二级导航（解决ie浏览器兼容性问题）\nconst renderApplicationNavbar = (appList = [], currentName) => {\n  let c = ''\n  if (appList.length > 1) {\n    c = 'has-ul'\n  } else if (appList.length === 1) {\n    c = 'app-list-btn'\n  }\n  return `<div class=\"ebgnav-app-list ${c}\">\n    <span class=\"ebgnav-app-list-separator\"></span>\n    <a href=\"javascript:;\" class=\"ebgnav-app-list-current\" id=\"ebgnav-app-current-link-name\">\n      <span id=\"ebgnav-app-current-name\" class=\"text-ellipsis\" title=\"${currentName}\">${currentName}</span><i class=\"ebginav inav-down\"></i>\n    </a>\n    <dl class=\"children\" id=\"ebgnav-app-list-separator-ul\"></dl>\n    </div>`\n}\n// 根据当前页面栏目地址匹配导航高亮显示\nconst getBrowseUrlIdActiveMenu = (navList) => {\n  const href = window.location.search\n  if (!navList.length || !href) return false\n  /**\n   * 获取到参数部分，去除问号，如 ?id=2&menu_id=4b\n   * 1、去除? => id=2&menu_id=4b\n   * 2、分割字符串 \"&\" 并取数组中的第一位 => ['id=2', 'menu_id=4b']\n   * 3、分割字符串 \"id=2\" => ['id', '2']\n   */\n  const [id, value] = href.slice(1).split('&')[0].split('=')\n  // 判断下最终拿到是否以id开头的数据\n  if (!id || id !== 'id' || !value) return false\n  navList.forEach((item) => {\n    if (item.id === value) {\n      item.current = true\n    } else {\n      item.current = false\n    }\n  })\n}\n\n/**\n * @param {*} _element 元素\n * @param {*} callback 回调函数\n * 通过元素id，监听图片是否加载成功or失败\n */\n\nconst loadImg = (_element, callback) => {\n  if (!_element) {\n    callback(true)\n    return\n  }\n  let res = null\n  if (_element.nodeType === 1) {\n    res = _element\n  }\n\n  if (typeof _element === 'string' && _element.indexOf('http') !== -1) {\n    const image = new Image()\n    image.src = _element\n    res = image\n  }\n  if (!res) {\n    callback(true)\n    return\n  }\n  if (res.readyState) {\n    res.onreadystatechange = function () {\n      if (res.readyState === 'loaded' || res.readyState === 'complete') {\n        res.onreadystatechange = null\n        callback()\n      }\n    }\n  } else {\n    // 其他浏览器\n    res.onload = function () {\n      callback()\n    }\n  }\n  res.onerror = function () {\n    callback()\n  }\n}\nconst typeofChecking = (cc) => {\n  let typeName = Object.prototype.toString.call(cc)\n  if (typeName === '[object Object]') {\n    typeName = '[object' + cc.constructor.name + ']'\n  }\n  return typeName\n}\n\nconst getWorkbenchUrl = (menuList, menuKey = 'workbench') => {\n  if (!Array.isArray(menuList)) return ''\n  let res = {}\n  menuList.some((item) => {\n    if (item.menuKey === menuKey) {\n      res = item\n      return true\n    }\n  })\n  return res || {}\n}\n\nconst getCurrentRole = (dataList = []) => {\n  if (!Array.isArray(dataList)) return {}\n  let res = {}\n  dataList.some((item) => {\n    if (item.active) {\n      res = item\n      return item.active\n    }\n  })\n  return res || {}\n}\n// 给当前dom下每个li标签添加事件\nconst traverseDomArr = (el) => {\n  let lis\n  if (typeofChecking(el) === '[object NodeList]') {\n    lis = el\n  }\n  if (\n    typeofChecking(el) === '[object HTMLDivElement]' ||\n    typeofChecking(el) === '[object HTMLDListElement]'\n  ) {\n    lis = el && el.querySelectorAll('dd')\n  }\n  if (typeofChecking(el) === '[object String]' && el) {\n    let _el = document.querySelector(el)\n    if (_el) {\n      lis = _el.querySelectorAll('dd')\n    }\n  }\n  // 获取当前dom下面的所有li标签\n  if (!lis) return false\n  for (let i = 0; i < lis.length; i++) {\n    let _liItem = lis[i]\n    let childrenUl = _liItem && _liItem.querySelector('.has-children')\n    let children = childrenUl && childrenUl.querySelectorAll('dd')\n    if (children && children.length) {\n      traverseDomArr(children)\n    }\n    traverseNavListEvent(_liItem)\n  }\n}\n\nconst traverseNavListEvent = (el) => {\n  el.addEventListener('click', (e) => {\n    // 阻止冒泡\n    if (e && e.stopImmediatePropagation) {\n      e.stopImmediatePropagation()\n    } else {\n      window.event.cancelBubble = true\n    }\n    if (e.currentTarget.id === 'ebg-nav-workbench') {\n      // 执行workbench跳转\n      workbenchEvent()\n      return false\n    }\n    // 获取当前标签是否有子菜单的状态\n    const haschildrenmodules = el.getAttribute('haschildrenmodules')\n    /*\n     * 当前元素有子下拉菜单，将不执行后面的事件 \"1的 2没有\"\n     * 当前元素下面有ul标签，说明有子菜单，将不执行事件 (自定义配置菜单没有haschildrenmodules字段)\n     */\n    if (haschildrenmodules === '1' || el.querySelector('dl')) return false\n    const data = JSON.parse(\n      el.querySelector(`.custom_navbar__content_data`).innerText\n    )\n    commonNavEvent(data, el) // 执行事件\n  })\n}\nconst invalidStr = ['#', 'undefined', 'null', 'javascript:;']\n// 导航公共事件派发方法\nconst commonNavEvent = (data, el) => {\n  // 获取数据\n  if (Object.prototype.toString.call(data) !== '[object Object]') {\n    data = el\n      ? JSON.parse(el.querySelector(`.custom_navbar__content_data`).innerText)\n      : {}\n  }\n\n  if (data.url && invalidStr.indexOf(data.url) === -1) {\n    // data.url 不等于空或者不等于#,说明是一个正常的url，按照正常链接跳转\n    window.open(data.url, data.target || '_self')\n  } else {\n    if (!data.funcname || invalidStr.indexOf(data.funcname) !== -1) {\n      throw new Error('url和funcname不能同时为空,或者值无效，请检查配置数据!')\n    }\n    window.ebgnavigation.emit(data.funcname, data)\n  }\n  // 点击菜单后，更新DOM，渲染高亮菜单\n  el && navHighlight(data, el)\n}\n// 导航点击后自动高亮\nconst navHighlight = (data, el) => {\n  const parentEle = document.querySelector(`#${data.element}`),\n    childrenList = parentEle.querySelectorAll('dd')\n  // 删除所有Li标签current\n  deleteAllClassCurrent(childrenList)\n\n  // 判断当前点击的是否是主导航\n  if (data.element === 'ebgnav-primaryNavList') {\n    const secElement = document.querySelector(`#ebgnav-secondaryNavList`),\n      secChildrenList = secElement ? secElement.querySelectorAll('dd') : []\n    // 如果点击的是主导航，需要将二级导航的高亮状态 全部清除\n    deleteAllClassCurrent(secChildrenList)\n  }\n  // 根据用户配置是否需要自动高亮\n  if (window.ebgnavigation.config.hideLight || data.hideLight) return false\n  handleClass(el, 'add', 'current')\n  setNavParentCurrent(el, data)\n}\nconst setNavParentCurrent = (el, data) => {\n  const node = el.parentNode\n  let parent = node && node.parentNode\n  if (parent) {\n    let parentClassName = parent.getAttribute('class')\n    if (!parentClassName || parentClassName.indexOf('current') === -1) {\n      handleClass(parent, 'add', 'current')\n    }\n    const className = parent.getAttribute('class')\n    if (className && className.indexOf(data.element) === -1) {\n      setNavParentCurrent(parent, data)\n    }\n  }\n}\nconst deleteAllClassCurrent = (nodeList) => {\n  if (!nodeList) return false\n  const len = nodeList.length\n  for (let i = 0; i < len; i++) {\n    let item = nodeList[i]\n    let className = item.getAttribute('class')\n    if (className && className.indexOf('current') !== -1) {\n      handleClass(item, 'delete', 'current')\n    }\n  }\n}\n\n/**\n * @param {url} 绝对域名地址 https://www.xx.com\n * @param {index} 取值位数 ['https://ecstest.ledc.changyan.cn/ebgnavigation/app.html', 'https', '//', 'ecstest.ledc.changyan.cn', undefined, 'ebgnavigation/app.html']\n * @description 通过正则把url match成数组\n */\nconst getUrlOrigin = (url, index = 3) => {\n  const regx =\n    /^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/\n  return url.match(regx)[index]\n}\n\nconst loadNavigationError = (message = '') => {\n  window.ebgnavigation.emit('loadNavigationError')\n  window.loadNavigationError = 'failed'\n  sessionStorage.setItem('loadNavigationError', message)\n}\nconst clearDefaultEmitEvent = () => {\n  const type = [\n    'loadNavigationError',\n    'getNavbarConfigData',\n    'navRenderCompleted'\n  ]\n  type.forEach((item) => {\n    sessionStorage.removeItem(item)\n    window[item] = null\n  })\n}\nconst delProtocol = (url = '') => {\n  return url.replace(/^(http|https):/, '')\n}\n\nconst isObject = (obj) => {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\nconst isString = (str) => {\n  return typeof str === 'string'\n}\n\nconst getURLParameters = (url) =>\n  (url.match(/([^?=&]+)(=([^&]*))/g) || []).reduce(\n    (a, v) => (\n      // eslint-disable-next-line no-sequences\n      (a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1)), a\n    ),\n    {}\n  )\n\nexport {\n  // easyXss,\n  loadStyle,\n  templateFilter,\n  templateRender,\n  $,\n  handleClass,\n  getHostUrl,\n  getCookie,\n  setCookie,\n  deleteDomByClassName,\n  clearInnerHtmlById,\n  loadScript,\n  arrUnique,\n  removeElement,\n  renderNavbarDom,\n  renderApplicationNavbar,\n  getBrowseUrlIdActiveMenu,\n  loadImg,\n  typeofChecking,\n  getWorkbenchUrl,\n  getCurrentRole,\n  traverseNavListEvent,\n  traverseDomArr,\n  commonNavEvent,\n  displayElement,\n  getUrlOrigin,\n  loadNavigationError,\n  clearDefaultEmitEvent,\n  getURLParameters,\n  delProtocol,\n  isObject,\n  isString\n}\n"],"sourceRoot":""}